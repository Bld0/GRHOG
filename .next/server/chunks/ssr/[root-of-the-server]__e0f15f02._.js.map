{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/ui/scroll-area.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';\n\nimport { cn } from '@/lib/utils';\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot='scroll-area'\n      className={cn('relative', className)}\n      style={{\n        WebkitOverflowScrolling: 'touch',\n        scrollBehavior: 'smooth'\n      }}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot='scroll-area-viewport'\n        className='focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1'\n        style={{\n          WebkitOverflowScrolling: 'touch'\n        }}\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollBar orientation=\"horizontal\" />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  );\n}\n\nfunction ScrollBar({\n  className,\n  orientation = 'vertical',\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot='scroll-area-scrollbar'\n      orientation={orientation}\n      className={cn(\n        'flex touch-none p-px transition-colors select-none',\n        orientation === 'vertical' &&\n          'h-full w-2.5 border-l border-l-transparent',\n        orientation === 'horizontal' &&\n          'h-2.5 flex-col border-t border-t-transparent',\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot='scroll-area-thumb'\n        className='bg-border relative flex-1 rounded-full'\n        style={{\n          minHeight: orientation === 'horizontal' ? '8px' : undefined,\n          minWidth: orientation === 'vertical' ? '8px' : undefined\n        }}\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  );\n}\n\nexport { ScrollArea, ScrollBar };\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,8OAAC,0KAAA,CAAA,OAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAC1B,OAAO;YACL,yBAAyB;YACzB,gBAAgB;QAClB;QACC,GAAG,KAAK;;0BAET,8OAAC,0KAAA,CAAA,WAA4B;gBAC3B,aAAU;gBACV,WAAU;gBACV,OAAO;oBACL,yBAAyB;gBAC3B;0BAEC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC;gBAAU,aAAY;;;;;;0BACvB,8OAAC,0KAAA,CAAA,SAA0B;;;;;;;;;;;AAGjC;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,8OAAC,0KAAA,CAAA,sBAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,0KAAA,CAAA,kBAAmC;YAClC,aAAU;YACV,WAAU;YACV,OAAO;gBACL,WAAW,gBAAgB,eAAe,QAAQ;gBAClD,UAAU,gBAAgB,aAAa,QAAQ;YACjD;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/layout/page-container.tsx"],"sourcesContent":["import React from 'react';\nimport { ScrollArea } from '@/components/ui/scroll-area';\n\nexport default function PageContainer({\n  children,\n  scrollable = true\n}: {\n  children: React.ReactNode;\n  scrollable?: boolean;\n}) {\n  return (\n    <>\n      {scrollable ? (\n        <ScrollArea className='h-[calc(100dvh-52px)]'>\n          <div className='flex flex-1 p-4 md:px-6'>{children}</div>\n        </ScrollArea>\n      ) : (\n        <div className='flex flex-1 p-4 md:px-6'>{children}</div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;AAEe,SAAS,cAAc,EACpC,QAAQ,EACR,aAAa,IAAI,EAIlB;IACC,qBACE;kBACG,2BACC,8OAAC,0IAAA,CAAA,aAAU;YAAC,WAAU;sBACpB,cAAA,8OAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;iCAG5C,8OAAC;YAAI,WAAU;sBAA2B;;;;;;;AAIlD","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot='card'\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot='card-header'\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot='card-title'\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot='card-description'\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot='card-action'\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot='card-content'\n      className={cn('px-6', className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot='card-footer'\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent\n};\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/hooks/use-api-data.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { \n  Bin, \n  Client, \n  BinUsage, \n  BinClearing,\n  BinStatistics,\n  UsageStatistics,\n  PenetrationAnalysis,\n  ClearingEfficiency,\n  ClientActivity,\n  DashboardActiveBins,\n  DashboardActiveCards,\n  DashboardCurrentUsage,\n  DashboardAverageFilling,\n  CollectionTrends,\n  DistrictKhorooGroup\n} from '@/types';\nimport axios from 'axios';\nimport { API_ENDPOINTS } from '@/lib/api';\nimport { authUtils } from '@/lib/auth';\nimport { PaginationParams } from './use-pagination';\n\n// Common pagination state interface\ninterface PaginationState {\n  page: number;\n  size: number;\n  totalElements: number;\n  totalPages: number;\n  hasNext: boolean;\n  hasPrevious: boolean;\n  // Statistics fields from API response\n  totalBins?: number;\n  activeBins?: number;\n  averageStorageLevel?: number;\n  totalUsages?: number;\n  uniqueClients?: number;\n  uniqueBins?: number;\n  totalClients?: number;\n  totalAccess?: number;\n  activeClients?: number;\n  statistics?: Statistics;\n}\n\ninterface Statistics {\n  uniqueClientCount: number;\n  uniqueBinCount: number;\n  totalAccessedCount: number;\n  totalActiveBins: number;\n  overallAvgStorageLevelPercent: number;\n  overallAvgBatteryLevelPercent: number;\n}\n\n// Common hook return type\ninterface HookReturn<T> {\n  data: T[];\n  loading: boolean;\n  error: string | null;\n  pagination: PaginationState;\n  refetch: () => void;\n}\n\n// Generic function to handle pagination response\nconst handlePaginationResponse = (data: any): { content: any[], pagination: PaginationState } => {\n  if (Array.isArray(data)) {\n    // Handle direct array response (backward compatibility)\n    return {\n      content: data,\n      pagination: {\n        page: 0,\n        size: data.length,\n        totalElements: data.length,\n        totalPages: 1,\n        hasNext: false,\n        hasPrevious: false,\n      }\n    };\n      } else if (data && data.content && Array.isArray(data.content)) {\n      // Handle PagedResponse format with statistics\n      return {\n        content: data.content,\n        pagination: {\n          page: data.page || 0,\n          size: data.size || 20,\n          totalElements: data.totalElements || 0,\n          totalPages: data.totalPages || 0,\n          hasNext: data.hasNext || false,\n          hasPrevious: data.hasPrevious || false,\n          // Extract statistics fields\n          totalBins: data.totalBins,\n          activeBins: data.activeBins,\n          averageStorageLevel: data.averageStorageLevel,\n          totalUsages: data.totalUsages,\n          uniqueClients: data.uniqueClients,\n          uniqueBins: data.uniqueBins,\n          totalClients: data.totalClients,\n          totalAccess: data.totalAccess,\n          activeClients: data.activeClients,\n          // Extract statistics object\n          statistics: data.statistics,\n        }\n      };\n  } else {\n    // Handle unexpected format\n    console.warn('Unexpected data format:', data);\n    return {\n      content: [],\n      pagination: {\n        page: 0,\n        size: 20,\n        totalElements: 0,\n        totalPages: 0,\n        hasNext: false,\n        hasPrevious: false,\n      }\n    };\n  }\n};\n\n// Generic function to build query parameters\nconst buildQueryParams = (paginationParams?: PaginationParams): URLSearchParams => {\n  const queryParams = new URLSearchParams();\n  \n  if (paginationParams?.page !== undefined) {\n    queryParams.append('page', paginationParams.page.toString());\n  }\n  if (paginationParams?.size !== undefined) {\n    queryParams.append('size', paginationParams.size.toString());\n  }\n  if (paginationParams?.sortBy) {\n    queryParams.append('sortBy', paginationParams.sortBy);\n  }\n  if (paginationParams?.sortDirection) {\n    queryParams.append('sortDirection', paginationParams.sortDirection);\n  }\n  \n  // Basic filter parameters\n  if (paginationParams?.search) {\n    queryParams.append('search', paginationParams.search);\n  }\n  if (paginationParams?.isActive !== undefined) {\n    queryParams.append('isActive', paginationParams.isActive.toString());\n  }\n  if (paginationParams?.cardId) {\n    queryParams.append('cardId', paginationParams.cardId);\n  }\n  if (paginationParams?.name) {\n    queryParams.append('name', paginationParams.name);\n  }\n  if (paginationParams?.email) {\n    queryParams.append('email', paginationParams.email);\n  }\n  if (paginationParams?.phone) {\n    queryParams.append('phone', paginationParams.phone);\n  }\n  if (paginationParams?.startDate) {\n    queryParams.append('startDate', paginationParams.startDate);\n  }\n  if (paginationParams?.endDate) {\n    queryParams.append('endDate', paginationParams.endDate);\n  }\n  \n  // Bin filter parameters\n  if (paginationParams?.location) {\n    queryParams.append('location', paginationParams.location);\n  }\n  if (paginationParams?.binId) {\n    queryParams.append('binId', paginationParams.binId);\n  }\n  if (paginationParams?.binName) {\n    queryParams.append('binName', paginationParams.binName);\n  }\n  if (paginationParams?.minStorageLevel !== undefined) {\n    queryParams.append('minStorageLevel', paginationParams.minStorageLevel.toString());\n  }\n  if (paginationParams?.maxStorageLevel !== undefined) {\n    queryParams.append('maxStorageLevel', paginationParams.maxStorageLevel.toString());\n  }\n  if (paginationParams?.batteryLevel) {\n    queryParams.append('batteryLevel', paginationParams.batteryLevel);\n  }\n  if (paginationParams?.minBatteryLevel !== undefined) {\n    queryParams.append('minBatteryLevel', paginationParams.minBatteryLevel.toString());\n  }\n  if (paginationParams?.maxBatteryLevel !== undefined) {\n    queryParams.append('maxBatteryLevel', paginationParams.maxBatteryLevel.toString());\n  }\n  if (paginationParams?.type) {\n    queryParams.append('type', paginationParams.type);\n  }\n  \n  // Card/Client filter parameters\n  if (paginationParams?.district) {\n    queryParams.append('district', paginationParams.district);\n  }\n  if (paginationParams?.khoroo) {\n    queryParams.append('khoroo', paginationParams.khoroo);\n  }\n  if (paginationParams?.streetBuilding) {\n    queryParams.append('streetBuilding', paginationParams.streetBuilding);\n  }\n  if (paginationParams?.apartmentNumber) {\n    queryParams.append('apartmentNumber', paginationParams.apartmentNumber);\n  }\n          if (paginationParams?.totalAccess !== undefined) {\n          queryParams.append('totalAccess', paginationParams.totalAccess.toString());\n        }\n  if (paginationParams?.cardUsedAt) {\n    queryParams.append('cardUsedAt', paginationParams.cardUsedAt);\n  }\n  \n  // Transaction/Usage filter parameters\n  if (paginationParams?.clientName) {\n    queryParams.append('clientName', paginationParams.clientName);\n  }\n  if (paginationParams?.clientType) {\n    queryParams.append('clientType', paginationParams.clientType);\n  }\n  if (paginationParams?.storageLevel !== undefined) {\n    queryParams.append('storageLevel', paginationParams.storageLevel.toString());\n  }\n  \n  // Bin usage filter parameters\n  if (paginationParams?.binIdFilter !== undefined) {\n    queryParams.append('binId', paginationParams.binIdFilter.toString());\n  }\n  if (paginationParams?.cardIdFilter) {\n    queryParams.append('cardId', paginationParams.cardIdFilter);\n  }\n  if (paginationParams?.clientPhone) {\n    queryParams.append('clientPhone', paginationParams.clientPhone);\n  }\n  if (paginationParams?.clientAddress) {\n    queryParams.append('clientAddress', paginationParams.clientAddress);\n  }\n  \n  // Clearing filter parameters\n  if (paginationParams?.clearingBinId !== undefined) {\n    queryParams.append('binId', paginationParams.clearingBinId.toString());\n  }\n  if (paginationParams?.minFillLevel !== undefined) {\n    queryParams.append('minFillLevel', paginationParams.minFillLevel.toString());\n  }\n  if (paginationParams?.maxFillLevel !== undefined) {\n    queryParams.append('maxFillLevel', paginationParams.maxFillLevel.toString());\n  }\n  \n  return queryParams;\n};\n\n// Hook for fetching bins data with pagination\nexport function useBins(enabled: boolean = true, paginationParams?: PaginationParams): HookReturn<Bin> {\n  const [bins, setBins] = useState<Bin[]>([]);\n  const [loading, setLoading] = useState(enabled);\n  const [error, setError] = useState<string | null>(null);\n  const [pagination, setPagination] = useState<PaginationState>({\n    page: paginationParams?.page || 0,\n    size: paginationParams?.size || 20,\n    totalElements: 0,\n    totalPages: 0,\n    hasNext: false,\n    hasPrevious: false,\n  });\n\n  const fetchBins = useCallback(async () => {\n    if (!enabled) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const queryParams = buildQueryParams(paginationParams);\n      const url = `${API_ENDPOINTS.BINS}${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const response = await axios.get(url, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch bins');\n      }\n      \n      const { content, pagination: paginationData } = handlePaginationResponse(response.data);\n      setBins(content);\n      setPagination(paginationData);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n      setBins([]);\n      setPagination({\n        page: 0,\n        size: 20,\n        totalElements: 0,\n        totalPages: 0,\n        hasNext: false,\n        hasPrevious: false,\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [enabled, paginationParams]);\n\n  useEffect(() => {\n    fetchBins();\n  }, [fetchBins]);\n\n  return { \n    data: bins, \n    loading, \n    error, \n    pagination,\n    refetch: fetchBins\n  };\n}\n\n// Hook for fetching grouped bins data (by district & khoroo)\nexport function useGroupedBins(enabled: boolean = true, paginationParams?: PaginationParams): HookReturn<DistrictKhorooGroup> {\n  const [groups, setGroups] = useState<DistrictKhorooGroup[]>([]);\n  const [loading, setLoading] = useState(enabled);\n  const [error, setError] = useState<string | null>(null);\n  const [pagination, setPagination] = useState<PaginationState>({\n    page: paginationParams?.page || 0,\n    size: paginationParams?.size || 20,\n    totalElements: 0,\n    totalPages: 0,\n    hasNext: false,\n    hasPrevious: false,\n  });\n\n  const fetchGroupedBins = useCallback(async () => {\n    if (!enabled) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const queryParams = buildQueryParams(paginationParams);\n      const url = `${API_ENDPOINTS.BINS}${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const response = await axios.get(url, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch grouped bins');\n      }\n      \n      const { content, pagination: paginationData } = handlePaginationResponse(response.data);\n      setGroups(content);\n      setPagination(paginationData);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n      setGroups([]);\n      setPagination({\n        page: 0,\n        size: 20,\n        totalElements: 0,\n        totalPages: 0,\n        hasNext: false,\n        hasPrevious: false,\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [enabled, paginationParams]);\n\n  useEffect(() => {\n    fetchGroupedBins();\n  }, [fetchGroupedBins]);\n\n  return { \n    data: groups, \n    loading, \n    error, \n    pagination,\n    refetch: fetchGroupedBins\n  };\n}\n\n// Hook for fetching clients data with pagination\nexport function useClients(enabled: boolean = true, paginationParams?: PaginationParams): HookReturn<Client> {\n  const [clients, setClients] = useState<Client[]>([]);\n  const [loading, setLoading] = useState(enabled);\n  const [error, setError] = useState<string | null>(null);\n  const [pagination, setPagination] = useState<PaginationState>({\n    page: paginationParams?.page || 0,\n    size: paginationParams?.size || 20,\n    totalElements: 0,\n    totalPages: 0,\n    hasNext: false,\n    hasPrevious: false,\n  });\n\n  const fetchClients = useCallback(async () => {\n    if (!enabled) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const queryParams = buildQueryParams(paginationParams);\n      const url = `${API_ENDPOINTS.CLIENTS}${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const response = await axios.get(url, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch clients');\n      }\n      \n      const { content, pagination: paginationData } = handlePaginationResponse(response.data);\n      setClients(content);\n      setPagination(paginationData);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n      setClients([]);\n      setPagination({\n        page: 0,\n        size: 20,\n        totalElements: 0,\n        totalPages: 0,\n        hasNext: false,\n        hasPrevious: false,\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [enabled, paginationParams]);\n\n  useEffect(() => {\n    fetchClients();\n  }, [fetchClients]);\n\n  return { \n    data: clients, \n    loading, \n    error, \n    pagination,\n    refetch: fetchClients\n  };\n}\n\n// Hook for fetching bin usages data with pagination\nexport function useBinUsages(enabled: boolean = true, paginationParams?: PaginationParams): HookReturn<BinUsage> {\n  const [binUsages, setBinUsages] = useState<BinUsage[]>([]);\n  const [loading, setLoading] = useState(enabled);\n  const [error, setError] = useState<string | null>(null);\n  const [pagination, setPagination] = useState<PaginationState>({\n    page: paginationParams?.page || 0,\n    size: paginationParams?.size || 20,\n    totalElements: 0,\n    totalPages: 0,\n    hasNext: false,\n    hasPrevious: false,\n  });\n\n  const fetchBinUsages = useCallback(async () => {\n    if (!enabled) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const queryParams = buildQueryParams(paginationParams);\n      const url = `${API_ENDPOINTS.BIN_USAGES}${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const response = await axios.get(url, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch bin usages');\n      }\n      \n      const { content, pagination: paginationData } = handlePaginationResponse(response.data);\n      setBinUsages(content);\n      setPagination(paginationData);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n      setBinUsages([]);\n      setPagination({\n        page: 0,\n        size: 20,\n        totalElements: 0,\n        totalPages: 0,\n        hasNext: false,\n        hasPrevious: false,\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [enabled, paginationParams]);\n\n  useEffect(() => {\n    fetchBinUsages();\n  }, [fetchBinUsages]);\n\n  return { \n    data: binUsages, \n    loading, \n    error, \n    pagination,\n    refetch: fetchBinUsages\n  };\n}\n\n// Hook for fetching clearing data\nexport function useClearings(params?: { startDate?: string; endDate?: string; binId?: number; page?: number; size?: number }) {\n  const [clearings, setClearings] = useState<{ content: BinClearing[]; totalElements: number; totalPages: number; currentPage: number; size: number } | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchClearings = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const queryParams = new URLSearchParams();\n      if (params?.startDate) queryParams.append('startDate', params.startDate);\n      if (params?.endDate) queryParams.append('endDate', params.endDate);\n      if (params?.binId) queryParams.append('binId', params.binId.toString());\n      if (params?.page !== undefined) queryParams.append('page', params.page.toString());\n      if (params?.size) queryParams.append('size', params.size.toString());\n\n      const url = `${API_ENDPOINTS.CLEARINGS}${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const response = await axios.get(url, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch clearings');\n      }\n      \n      setClearings(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [params]);\n\n  useEffect(() => {\n    fetchClearings();\n  }, [fetchClearings]);\n\n  return { clearings, loading, error, refetch: fetchClearings };\n}\n\n// Analytics hooks\nexport function useBinStatistics() {\n  const [data, setData] = useState<BinStatistics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(API_ENDPOINTS.ANALYTICS_BIN_STATISTICS, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch bin statistics');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function useUsageStatistics(period: string = 'daily', startDate?: string, endDate?: string) {\n  const [data, setData] = useState<UsageStatistics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const queryParams = new URLSearchParams();\n      queryParams.append('period', period);\n      if (startDate) queryParams.append('startDate', startDate);\n      if (endDate) queryParams.append('endDate', endDate);\n\n      const url = `${API_ENDPOINTS.ANALYTICS_USAGE_STATISTICS}?${queryParams.toString()}`;\n      const response = await axios.get(url, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch usage statistics');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [period, startDate, endDate]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function usePenetrationAnalysis() {\n  const [data, setData] = useState<PenetrationAnalysis | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(API_ENDPOINTS.ANALYTICS_PENETRATION_ANALYSIS, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch penetration analysis');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function useClearingEfficiency() {\n  const [data, setData] = useState<ClearingEfficiency | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(API_ENDPOINTS.ANALYTICS_CLEARING_EFFICIENCY, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch clearing efficiency');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\n// Client activity hook\nexport function useClientActivity(cardId: string) {\n  const [data, setData] = useState<ClientActivity | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    if (!cardId) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(`/api/clients/${cardId}/activity`, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch client activity');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [cardId]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\n// Dashboard API hooks with authentication\nexport function useDashboardActiveBins() {\n  const [data, setData] = useState<DashboardActiveBins | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(API_ENDPOINTS.DASHBOARD_ACTIVE_BINS, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch active bins data');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function useDashboardActiveCards() {\n  const [data, setData] = useState<DashboardActiveCards | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(API_ENDPOINTS.DASHBOARD_ACTIVE_CARDS, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch active cards data');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function useDashboardCurrentUsage() {\n  const [data, setData] = useState<DashboardCurrentUsage | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(API_ENDPOINTS.DASHBOARD_CURRENT_USAGE, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch current usage data');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function useDashboardAverageFilling() {\n  const [data, setData] = useState<DashboardAverageFilling | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(API_ENDPOINTS.DASHBOARD_AVERAGE_FILLING, {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch average filling data');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function useCollectionTrends() {\n  const [data, setData] = useState<CollectionTrends | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get('/api/dashboard/collection-trends', {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch collection trends data');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\nexport function useClientActivityChange() {\n  const [data, setData] = useState<{\n    currentRate: number;\n    previousRate: number;\n    change: number;\n    changePercentage: number;\n    isPositive: boolean;\n  } | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get('/api/dashboard/client-activity-change', {\n        headers: authUtils.getAuthHeader(),\n      });\n      \n      if (response.status !== 200) {\n        throw new Error('Failed to fetch client activity change data');\n      }\n      \n      setData(response.data);\n    } catch (err) {\n      // Handle auth errors globally\n      if (!authUtils.handleAuthError(err)) {\n        const errorMessage = err instanceof Error ? err.message : 'An error occurred';\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1268, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/leaflet-map.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents, Popup, CircleMarker } from 'react-leaflet';\nimport L from 'leaflet';\nimport { normalizeStorageLevel } from '@/lib/utils';\n\n// Fix for default markers in Leaflet\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\ninterface Location {\n  lat: number;\n  lng: number;\n  id?: string;\n  title?: string;\n  fillLevel?: number;\n  batteryLevel?: number;\n  status?: string;\n}\n\ninterface LeafletMapProps {\n  selectedLocation: Location | null;\n  onLocationSelect?: (lat: number, lng: number) => void;\n  multipleLocations?: Location[];\n  showHeatmap?: boolean;\n  height?: string;\n  zoom?: number;\n  readOnly?: boolean;\n}\n\n// Map click handler component\nconst MapClickHandler = ({ onLocationSelect, readOnly }: { onLocationSelect?: (lat: number, lng: number) => void; readOnly?: boolean }) => {\n  useMapEvents({\n    click: (e) => {\n      if (!readOnly && onLocationSelect) {\n        const { lat, lng } = e.latlng;\n        onLocationSelect(lat, lng);\n      }\n    },\n  });\n  return null;\n};\n\n// Custom marker icons based on status\nconst createCustomIcon = (status?: string, fillLevel?: number) => {\n  let color = '#dc2626'; // Default red\n  \n  if (status === 'active' || fillLevel !== undefined) {\n    if (fillLevel !== undefined) {\n      const normalizedLevel = normalizeStorageLevel(fillLevel);\n      if (normalizedLevel >= 90) color = '#dc2626'; // Red for full\n      else if (normalizedLevel >= 70) color = '#f59e0b'; // Yellow for warning\n      else color = '#10b981'; // Green for normal\n    } else if (status === 'active') {\n      color = '#10b981';\n    }\n  }\n\n  return new L.Icon({\n    iconUrl: 'data:image/svg+xml;base64,' + btoa(`\n      <svg width=\"25\" height=\"41\" viewBox=\"0 0 25 41\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12.5 0C5.596 0 0 5.596 0 12.5c0 12.5 12.5 28.5 12.5 28.5s12.5-16 12.5-28.5C25 5.596 19.404 0 12.5 0z\" fill=\"${color}\"/>\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"6\" fill=\"#ffffff\"/>\n      </svg>\n    `),\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n  });\n};\n\n// Battery level indicator component\nconst BatteryIndicator = ({ level }: { level: number }) => {\n  const getBatteryColor = (level: number) => {\n    if (level >= 60) return '#10b981';\n    if (level >= 30) return '#f59e0b';\n    return '#dc2626';\n  };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className=\"w-8 h-4 border border-gray-300 rounded-sm relative\">\n        <div \n          className=\"h-full bg-gray-200 rounded-sm\"\n          style={{ \n            width: `${level}%`,\n            backgroundColor: getBatteryColor(level)\n          }}\n        />\n        <div className=\"absolute -right-1 top-1/2 transform -translate-y-1/2 w-1 h-2 bg-gray-300 rounded-r-sm\" />\n      </div>\n      <span className=\"text-xs font-medium\">{level}%</span>\n    </div>\n  );\n};\n\n// Fill level indicator component\nconst FillLevelIndicator = ({ level }: { level: number }) => {\n  const normalizedLevel = normalizeStorageLevel(level);\n  \n  const getFillColor = (level: number) => {\n    if (level >= 90) return '#dc2626';\n    if (level >= 70) return '#f59e0b';\n    return '#10b981';\n  };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className=\"w-16 h-2 bg-gray-200 rounded-full overflow-hidden\">\n        <div \n          className=\"h-full rounded-full transition-all duration-300\"\n          style={{ \n            width: `${normalizedLevel}%`,\n            backgroundColor: getFillColor(normalizedLevel)\n          }}\n        />\n      </div>\n      <span className=\"text-xs font-medium\">{normalizedLevel.toFixed(1)}%</span>\n    </div>\n  );\n};\n\nexport default function LeafletMap({ \n  selectedLocation, \n  onLocationSelect, \n  multipleLocations = [],\n  showHeatmap = false,\n  height = '400px',\n  zoom = 13,\n  readOnly = false\n}: LeafletMapProps) {\n  const [map, setMap] = useState<L.Map | null>(null);\n\n  const isValidCoord = selectedLocation && (selectedLocation.lat !== 0 || selectedLocation.lng !== 0);\n\n  const center: [number, number] = isValidCoord\n    ? [selectedLocation.lat, selectedLocation.lng]\n    : [47.9211, 106.9154]; // Ulaanbaatar\n\n  // Fit bounds when multiple locations are provided\n  useEffect(() => {\n    if (map && multipleLocations.length > 1) {\n      const bounds = L.latLngBounds(\n        multipleLocations.map(loc => [loc.lat, loc.lng])\n      );\n      map.fitBounds(bounds, { padding: [20, 20] });\n    }\n  }, [map, multipleLocations]);\n\n  // Try to center on user's location if available. If access is denied or unavailable,\n  // fall back to Ulaanbaatar center at city zoom.\n  useEffect(() => {\n    if (!map) return;\n\n    // Only attempt when there are no multiple locations to fit (single or none)\n    if ((multipleLocations?.length ?? 0) <= 1 && !selectedLocation) {\n      if (typeof navigator !== 'undefined' && 'geolocation' in navigator) {\n        navigator.geolocation.getCurrentPosition(\n          (pos) => {\n            const { latitude, longitude } = pos.coords;\n            try {\n              map.setView([latitude, longitude], Math.max(13, zoom));\n            } catch (e) {\n              // ignore\n            }\n          },\n          () => {\n            // Permission denied or other error -> center Ulaanbaatar\n            try {\n              map.setView([47.9211, 106.9154], 12);\n            } catch (e) {\n              // ignore\n            }\n          },\n          { timeout: 5000 }\n        );\n      } else {\n        // No geolocation API -> default to Ulaanbaatar\n        try {\n          map.setView([47.9211, 106.9154], 12);\n        } catch (e) {\n          // ignore\n        }\n      }\n    }\n  }, [map, multipleLocations, selectedLocation, zoom]);\n\n  return (\n    <div className={`w-full rounded-lg border border-gray-300 overflow-hidden`} style={{ height }}>\n      <MapContainer\n        center={center}\n        zoom={zoom}\n        style={{ height: '100%', width: '100%' }}\n        zoomControl={true}\n        attributionControl={true}\n        ref={setMap}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          maxZoom={19}\n        />\n        \n        {!readOnly && <MapClickHandler onLocationSelect={onLocationSelect} readOnly={readOnly} />}\n        \n        {/* Show multiple locations if provided */}\n        {multipleLocations.length > 0 ? (\n          multipleLocations.map((location, index) => (\n            <Marker \n              key={location.id || index}\n              position={[location.lat, location.lng]} \n              icon={createCustomIcon(location.status, location.fillLevel)}\n            >\n              <Popup>\n                <div className=\"p-2 min-w-[200px]\">\n                  <h3 className=\"font-semibold text-sm mb-2\">\n                    {location.title || ` #${location.id || index + 1}`}\n                  </h3>\n                  {location.fillLevel !== undefined && (\n                    <div className=\"mb-2\">\n                      <span className=\"text-xs text-gray-600 block mb-1\"> :</span>\n                      <FillLevelIndicator level={location.fillLevel} />\n                    </div>\n                  )}\n                  {location.batteryLevel !== undefined && (\n                    <div className=\"mb-2\">\n                      <span className=\"text-xs text-gray-600 block mb-1\"> :</span>\n                      <BatteryIndicator level={location.batteryLevel} />\n                    </div>\n                  )}\n                  {location.status && (\n                    <div className=\"text-xs\">\n                      <span className=\"text-gray-600\">: </span>\n                      <span className={`font-medium ${\n                        location.status === 'active' ? 'text-green-600' : 'text-gray-600'\n                      }`}>\n                        {location.status === 'active' ? '' : ''}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </Popup>\n            </Marker>\n          ))\n        ) : (\n          /* Show single selected location */\n          isValidCoord && (\n            <Marker \n              position={[selectedLocation.lat, selectedLocation.lng]} \n              icon={createCustomIcon('selected', 100)} // force red for selection\n            >\n              <Popup>\n                <div className=\"p-2 min-w-[200px]\">\n                  <h3 className=\"font-semibold text-sm mb-2\">\n                    {selectedLocation.title || ` #${selectedLocation.id || '1'}`}\n                  </h3>\n                  {selectedLocation.fillLevel !== undefined && (\n                    <div className=\"mb-2\">\n                      <span className=\"text-xs text-gray-600 block mb-1\"> :</span>\n                      <FillLevelIndicator level={selectedLocation.fillLevel} />\n                    </div>\n                  )}\n                  {selectedLocation.batteryLevel !== undefined && (\n                    <div className=\"mb-2\">\n                      <span className=\"text-xs text-gray-600 block mb-1\"> :</span>\n                      <BatteryIndicator level={selectedLocation.batteryLevel} />\n                    </div>\n                  )}\n                  {selectedLocation.status && (\n                    <div className=\"text-xs\">\n                      <span className=\"text-gray-600\">: </span>\n                      <span className={`font-medium ${\n                        selectedLocation.status === 'active' ? 'text-green-600' : 'text-gray-600'\n                      }`}>\n                        {selectedLocation.status === 'active' ? '' : ''}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </Popup>\n            </Marker>\n          )\n        )}\n\n        {/* Heatmap circles for fill levels */}\n        {showHeatmap && multipleLocations.length > 0 && (\n          multipleLocations.map((location, index) => {\n            if (location.fillLevel === undefined) return null;\n            \n            const getHeatmapColor = (level: number) => {\n              if (level >= 90) return '#dc2626';\n              if (level >= 70) return '#f59e0b';\n              return '#10b981';\n            };\n\n            return (\n              <CircleMarker\n                key={`heatmap-${location.id || index}`}\n                center={[location.lat, location.lng]}\n                radius={Math.max(5, location.fillLevel / 10)}\n                pathOptions={{\n                  color: getHeatmapColor(location.fillLevel),\n                  fillColor: getHeatmapColor(location.fillLevel),\n                  fillOpacity: 0.3,\n                  weight: 2\n                }}\n              />\n            );\n          })\n        )}\n      </MapContainer>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1805, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/features/overview/components/all-bins-map.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from 'react';\nimport LeafletMap from '@/components/leaflet-map';\nimport { getAllBins } from '@/lib/api';\n\ntype LocalLocation = {\n  id?: string;\n  lat: number;\n  lng: number;\n  title?: string;\n  fillLevel?: number;\n  batteryLevel?: number;\n  status?: string;\n};\n\nexport default function AllBinsMap({ height = '500px', className = '' }: { height?: string; className?: string }) {\n  const [locations, setLocations] = useState<any[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    let mounted = true;\n    setLoading(true);\n    getAllBins()\n      .then((bins: any) => {\n        if (!mounted) return;\n        const items = Array.isArray(bins) ? bins : (bins?.content ?? []);\n        const mapped: LocalLocation[] = items.map((b: any) => ({\n          id: b.id != null ? String(b.id) : undefined,\n          lat: Number(b.latitude),\n          lng: Number(b.longitude),\n          title: b.location || b.binId,\n          fillLevel: (typeof b.storageLevelPercent === 'number' && b.storageLevelPercent >= 0) ? b.storageLevelPercent : b.storageLevel,\n          batteryLevel: b.batteryLevelPercent ?? undefined,\n          status: b.isActive ? 'active' : 'inactive'\n        }));\n        setLocations(mapped.filter(l => typeof l.lat === 'number' && typeof l.lng === 'number'));\n      })\n      .catch(() => setLocations([]))\n      .finally(() => { if (mounted) setLoading(false); });\n\n    return () => { mounted = false; };\n  }, []);\n\n  if (loading) {\n    return <div className='p-4 text-sm text-muted-foreground'>Loading map...</div>;\n  }\n\n  // Allow passing a className for responsive heights (e.g. h-56 sm:h-72 md:h-96)\n  const containerStyle = className ? undefined : { height };\n\n  return (\n    <div className={`w-full rounded-lg border border-gray-300 overflow-hidden ${className}`} style={containerStyle}>\n      <LeafletMap selectedLocation={null} multipleLocations={locations} height={height} readOnly={true} zoom={13} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAgBe,SAAS,WAAW,EAAE,SAAS,OAAO,EAAE,YAAY,EAAE,EAA2C;IAC9G,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEhD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU;QACd,WAAW;QACX,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,IACN,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,SAAS;YACd,MAAM,QAAQ,MAAM,OAAO,CAAC,QAAQ,OAAQ,MAAM,WAAW,EAAE;YAC/D,MAAM,SAA0B,MAAM,GAAG,CAAC,CAAC,IAAW,CAAC;oBACrD,IAAI,EAAE,EAAE,IAAI,OAAO,OAAO,EAAE,EAAE,IAAI;oBAClC,KAAK,OAAO,EAAE,QAAQ;oBACtB,KAAK,OAAO,EAAE,SAAS;oBACvB,OAAO,EAAE,QAAQ,IAAI,EAAE,KAAK;oBAC5B,WAAW,AAAC,OAAO,EAAE,mBAAmB,KAAK,YAAY,EAAE,mBAAmB,IAAI,IAAK,EAAE,mBAAmB,GAAG,EAAE,YAAY;oBAC7H,cAAc,EAAE,mBAAmB,IAAI;oBACvC,QAAQ,EAAE,QAAQ,GAAG,WAAW;gBAClC,CAAC;YACD,aAAa,OAAO,MAAM,CAAC,CAAA,IAAK,OAAO,EAAE,GAAG,KAAK,YAAY,OAAO,EAAE,GAAG,KAAK;QAChF,GACC,KAAK,CAAC,IAAM,aAAa,EAAE,GAC3B,OAAO,CAAC;YAAQ,IAAI,SAAS,WAAW;QAAQ;QAEnD,OAAO;YAAQ,UAAU;QAAO;IAClC,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBAAO,8OAAC;YAAI,WAAU;sBAAoC;;;;;;IAC5D;IAEA,+EAA+E;IAC/E,MAAM,iBAAiB,YAAY,YAAY;QAAE;IAAO;IAExD,qBACE,8OAAC;QAAI,WAAW,CAAC,yDAAyD,EAAE,WAAW;QAAE,OAAO;kBAC9F,cAAA,8OAAC,oIAAA,CAAA,UAAU;YAAC,kBAAkB;YAAM,mBAAmB;YAAW,QAAQ;YAAQ,UAAU;YAAM,MAAM;;;;;;;;;;;AAG9G","debugId":null}},
    {"offset": {"line": 1881, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/app/dashboard/overview/layout.tsx"],"sourcesContent":["'use client';\n\nimport PageContainer from '@/components/layout/page-container';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n  CardAction,\n  CardFooter,\n  CardContent\n} from '@/components/ui/card';\nimport { IconTrendingDown, IconTrendingUp } from '@tabler/icons-react';\nimport {\n  useBins,\n  useClients,\n  useBinUsages,\n  useDashboardActiveBins,\n  useDashboardActiveCards,\n  useDashboardCurrentUsage,\n  useDashboardAverageFilling\n} from '@/hooks/use-api-data';\nimport { useAuth } from '@/hooks/use-auth';\nimport { useEffect, useState } from 'react';\nimport { normalizeStorageLevel } from '@/lib/utils';\nimport AllBinsMap from '@/features/overview/components/all-bins-map';\n\nexport default function OverViewLayout({\n  bar_stats,\n  pie_stats\n}: {\n  bar_stats: React.ReactNode;\n  pie_stats: React.ReactNode;\n}) {\n  // Authentication\n  const { isLoading: authLoading, error: authError } = useAuth();\n  const [useFallbacks, setUseFallbacks] = useState(false);\n\n  // Use authenticated dashboard API hooks (primary data source)\n  const {\n    data: activeBins,\n    loading: activeBinsLoading,\n    error: activeBinsError\n  } = useDashboardActiveBins();\n  const {\n    data: activeCards,\n    loading: activeCardsLoading,\n    error: activeCardsError\n  } = useDashboardActiveCards();\n  const {\n    data: currentUsage,\n    loading: currentUsageLoading,\n    error: currentUsageError\n  } = useDashboardCurrentUsage();\n  const {\n    data: averageFilling,\n    loading: averageFillingLoading,\n    error: averageFillingError\n  } = useDashboardAverageFilling();\n\n  // Check if dashboard data failed and trigger fallbacks\n  const dashboardFailed =\n    activeBinsError ||\n    activeCardsError ||\n    currentUsageError ||\n    averageFillingError;\n\n  useEffect(() => {\n    if (dashboardFailed && !useFallbacks) {\n      setUseFallbacks(true);\n    }\n  }, [dashboardFailed, useFallbacks]);\n\n  // Conditional fallback data fetching - only when dashboard fails\n  const {\n    data: bins,\n    loading: binsLoading,\n    error: binsError\n  } = useBins(useFallbacks);\n  const {\n    data: clients,\n    loading: clientsLoading,\n    error: clientsError\n  } = useClients(useFallbacks);\n  const {\n    data: binUsages,\n    loading: usagesLoading,\n    error: usagesError\n  } = useBinUsages(useFallbacks);\n\n  // Only show fallback loading if dashboard failed and fallbacks are loading\n  const fallbackLoading =\n    useFallbacks && (binsLoading || clientsLoading || usagesLoading);\n  const dashboardLoading =\n    activeBinsLoading ||\n    activeCardsLoading ||\n    currentUsageLoading ||\n    averageFillingLoading;\n\n  const isLoading = authLoading || dashboardLoading || fallbackLoading;\n  const hasError =\n    authError || (useFallbacks && (binsError || clientsError || usagesError));\n\n  // Use dashboard data when available, fallback to calculated data only when needed\n  const totalBins = activeBins?.total || (useFallbacks ? bins.length : 0);\n  const onlineBins =\n    activeBins?.active ||\n    (useFallbacks ? bins.filter((bin) => bin.batteryLevel !== null).length : 0);\n  const averageFillLevel = averageFilling\n    ? Math.round(normalizeStorageLevel(averageFilling['filling-today']))\n    : useFallbacks && bins.length > 0\n      ? Math.round(\n          bins.reduce(\n            (sum, bin) => sum + normalizeStorageLevel(bin.storageLevel || 0),\n            0\n          ) / bins.length\n        )\n      : 0;\n\n  const totalClients =\n    activeCards?.total || (useFallbacks ? clients.length : 0);\n  // activeClients not currently used on this layout\n\n  // Use dashboard usage data when available, fallback only when needed\n  const todayUsages = currentUsage\n    ? currentUsage['usage-today']\n    : useFallbacks\n      ? (() => {\n          const today = new Date();\n          today.setHours(0, 0, 0, 0);\n          return Array.isArray(binUsages)\n            ? binUsages.filter((usage) => {\n                const usageDate = new Date(usage.createdAt);\n                usageDate.setHours(0, 0, 0, 0);\n                return usageDate.getTime() === today.getTime();\n              }).length\n            : 0;\n        })()\n      : 0;\n\n  const yesterdayUsages = currentUsage\n    ? currentUsage['usage-prev-day']\n    : useFallbacks\n      ? (() => {\n          const today = new Date();\n          today.setHours(0, 0, 0, 0);\n          const yesterday = new Date(today);\n          yesterday.setDate(yesterday.getDate() - 1);\n          return Array.isArray(binUsages)\n            ? binUsages.filter((usage) => {\n                const usageDate = new Date(usage.createdAt);\n                usageDate.setHours(0, 0, 0, 0);\n                return usageDate.getTime() === yesterday.getTime();\n              }).length\n            : 0;\n        })()\n      : 0;\n\n  const fillPercentageChange =\n    averageFillLevel > 60 ? ' ' : ' ';\n  const usageChange =\n    todayUsages > yesterdayUsages ? ' ' : ' ';\n\n  if (isLoading) {\n    return (\n      <PageContainer>\n        <div className='flex flex-1 flex-col space-y-6'>\n          <div className='flex items-center justify-between space-y-2'>\n            <h2 className='text-2xl font-bold tracking-tight'>GRHOG </h2>\n          </div>\n          <div className='grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4'>\n            {[...Array(4)].map((_, i) => (\n              <Card key={i} className='@container/card'>\n                <CardHeader>\n                  <div className='bg-muted mb-2 h-4 animate-pulse rounded' />\n                  <div className='bg-muted mb-2 h-8 animate-pulse rounded' />\n                  <div className='bg-muted h-6 animate-pulse rounded' />\n                </CardHeader>\n                <CardFooter>\n                  <div className='bg-muted h-4 w-full animate-pulse rounded' />\n                </CardFooter>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </PageContainer>\n    );\n  }\n\n  if (hasError) {\n    return (\n      <PageContainer>\n        <div className='flex flex-1 flex-col space-y-6'>\n          <div className='flex items-center justify-between space-y-2'>\n            <h2 className='text-2xl font-bold tracking-tight'>\n              GRHOG  - \n            </h2>\n          </div>\n          <Card>\n            <CardContent className='pt-6'>\n              <p className='text-red-600'>\n                   :{' '}\n                {useFallbacks\n                  ? binsError || clientsError || usagesError\n                  : activeBinsError ||\n                    activeCardsError ||\n                    currentUsageError ||\n                    averageFillingError}\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      </PageContainer>\n    );\n  }\n\n  return (\n    <PageContainer>\n      <div className='flex flex-1 flex-col space-y-6'>\n        <div className='flex items-center justify-between space-y-2'>\n          <h2 className='text-2xl font-bold tracking-tight'>GRHOG </h2>\n        </div>\n\n        {/* Main Statistics Cards */}\n        <div className='*:data-[slot=card]:from-primary/5 *:data-[slot=card]:to-card dark:*:data-[slot=card]:bg-card grid grid-cols-1 gap-4 *:data-[slot=card]:bg-gradient-to-t *:data-[slot=card]:shadow-xs md:grid-cols-2 lg:grid-cols-4'>\n          <Card className='@container/card'>\n            <CardHeader>\n              <CardDescription> </CardDescription>\n              <CardTitle className='text-2xl font-semibold tabular-nums @[250px]/card:text-3xl'>\n                {totalBins}\n              </CardTitle>\n              <CardAction>\n                <Badge variant='outline'>\n                  <IconTrendingUp />\n                  {onlineBins} \n                </Badge>\n              </CardAction>\n            </CardHeader>\n            <CardFooter className='flex-col items-start gap-1.5 text-sm'>\n              <div className='line-clamp-1 flex gap-2 font-medium'>\n                {onlineBins}/{totalBins}  \n              </div>\n              <div className='text-muted-foreground'>\n                  \n              </div>\n            </CardFooter>\n          </Card>\n\n          <Card className='@container/card'>\n            <CardHeader>\n              <CardDescription> </CardDescription>\n              <CardTitle className='text-2xl font-semibold tabular-nums @[250px]/card:text-3xl'>\n                {averageFillLevel} %\n              </CardTitle>\n              <CardAction>\n                <Badge\n                  variant={averageFillLevel > 60 ? 'destructive' : 'outline'}\n                >\n                  {averageFillLevel > 60 ? (\n                    <IconTrendingUp />\n                  ) : (\n                    <IconTrendingDown />\n                  )}\n                  {fillPercentageChange}\n                </Badge>\n              </CardAction>\n            </CardHeader>\n            <CardFooter className='flex-col items-start gap-1.5 text-sm'>\n              <div className='line-clamp-1 flex gap-2 font-medium'>\n                   \n              </div>\n            </CardFooter>\n          </Card>\n\n          <Card className='@container/card'>\n            <CardHeader>\n              <CardDescription> </CardDescription>\n              <CardTitle className='text-2xl font-semibold tabular-nums @[250px]/card:text-3xl'>\n                {todayUsages}\n              </CardTitle>\n              <CardAction>\n                <Badge variant='outline'>\n                  {todayUsages > yesterdayUsages ? (\n                    <IconTrendingUp />\n                  ) : (\n                    <IconTrendingDown />\n                  )}\n                  {usageChange}\n                </Badge>\n              </CardAction>\n            </CardHeader>\n            <CardFooter className='flex-col items-start gap-1.5 text-sm'>\n              <div className='text-muted-foreground'>\n                   \n              </div>\n            </CardFooter>\n          </Card>\n\n          <Card className='@container/card'>\n            <CardHeader>\n              <CardDescription> </CardDescription>\n              <CardTitle className='text-2xl font-semibold tabular-nums @[250px]/card:text-3xl'>\n                {totalClients}\n              </CardTitle>\n              <CardAction>\n                <Badge variant='outline'>\n                  <IconTrendingUp />\n                  {totalClients} \n                </Badge>\n              </CardAction>\n            </CardHeader>\n            <CardFooter className='flex-col items-start gap-1.5 text-sm'>\n              <div className='text-muted-foreground'> </div>\n            </CardFooter>\n          </Card>\n        </div>\n        {/* Dashboard chart slots (provided by nested route outlets) */}\n        <div className='flex-1'>\n          {/* Stack vertically on small screens, side-by-side on md+ */}\n          <div className='flex flex-col md:flex-row items-start gap-4'>\n            <div className='w-full md:w-7/12'>\n              <div>{bar_stats}</div>\n              {/* All bins map - use responsive height classes for mobile */}\n              <div className='mt-4'>\n                <AllBinsMap height='480px' className='h-56 sm:h-72 md:h-[480px]' />\n              </div>\n            </div>\n            <div className='w-full md:w-5/12'>{pie_stats}</div>\n          </div>\n        </div>\n      </div>\n    </PageContainer>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}