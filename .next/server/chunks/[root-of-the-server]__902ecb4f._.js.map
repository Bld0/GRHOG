{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/config/api.ts"],"sourcesContent":["// API Configuration\nexport const API_CONFIG = {\n  // Base URL for the backend API - point to actual backend server\n  // For client-side requests, always use Next.js API routes to avoid CORS issues\n  // For server-side requests, use the direct backend URL\n  BASE_URL: (() => {\n    if (typeof window !== 'undefined') {\n      // Client-side: use Next.js API routes\n      return '/api';\n    }\n    // Server-side: use direct backend URL\n    return process.env.BACKEND_URL || 'http://device.grhog.mn';\n  })(),\n  \n  // API endpoints\n  ENDPOINTS: {\n    AUTH: {\n      SIGNIN: '/auth/signin',\n      SIGNOUT: '/auth/signout',\n      REFRESH: '/auth/refresh',\n      VALIDATE: '/auth/validate',\n      STATUS: '/auth/status',\n    },\n    BINS: '/bins',\n    CLIENTS: '/clients',\n    BIN_USAGES: '/bin-usages',\n    CLEARINGS: '/clearings',\n    DASHBOARD: {\n      ACTIVE_BINS: '/dashboard/active-bins',\n      ACTIVE_CARDS: '/dashboard/active-cards',\n      CURRENT_USAGE: '/dashboard/current-usage',\n      AVERAGE_BIN_FILLING: '/dashboard/average-bin-filling',\n      COLLECTION_TRENDS: '/dashboard/collection-trends',\n      BIN_STATUS_DISTRIBUTION: '/dashboard/bin-status-distribution',\n      DAILY_USAGE_TREND: '/dashboard/daily-usage-trend',\n  LOCATION_STATS: '/dashboard/location-stats',\n  GET_DISTRICT: '/dashboard/getDistrict',\n  GET_KHOROO: '/dashboard/getKhoroo',\n  CLIENT_TYPE_COUNTS: '/dashboard/client-type-counts',\n    ALL_BINS: '/dashboard/all-bins',\n      CLIENT_ACTIVITY_CHANGE: '/dashboard/client-activity-change',\n    },\n    ANALYTICS: {\n      BIN_STATISTICS: '/analytics/bin-statistics',\n      USAGE_STATISTICS: '/analytics/usage-statistics',\n      PENETRATION_ANALYSIS: '/analytics/penetration-analysis',\n      CLEARING_EFFICIENCY: '/analytics/clearing-efficiency',\n    },\n    STATISTICS: {\n      BINS: {\n        TOTAL_BINS: '/bins/total-bins',\n        AVERAGE_FILL_LEVEL: '/bins/average-fill-level',\n        AVERAGE_BATTERY: '/bins/average-battery',\n        WARNING_BINS: '/bins/warning-bins',\n      },\n      CARDS: {\n        TOTAL_CARDS: '/cards/total-cards',\n        TOTAL_ACCESS: '/cards/total-access',\n        ACTIVITY_RATE: '/cards/activity-rate',\n      },\n      TRANSACTIONS: {\n        TODAY_USAGE: '/transactions/today-usage',\n        TODAY_AVERAGE: '/transactions/today-average',\n        ACTIVE_BINS_TODAY: '/transactions/active-bins-today',\n        OVERALL_AVERAGE: '/transactions/overall-average',\n      },\n    },\n    CLIENT_ACTIVITY: '/clients',\n    TEST: '/test',\n    USERS: '/users',\n  },\n  \n  // Request configuration\n  REQUEST_CONFIG: {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    timeout: 10000, // 10 seconds\n  },\n} as const;\n\n// Helper function to build full API URLs\nexport const buildApiUrl = (endpoint: string): string => {\n  return `${API_CONFIG.BASE_URL}${endpoint}`;\n};\n\n// Helper function to get API endpoint\nexport const getApiEndpoint = (path: string): string => {\n  const endpoint = API_CONFIG.ENDPOINTS[path as keyof typeof API_CONFIG.ENDPOINTS];\n  if (typeof endpoint === 'string') {\n    return endpoint;\n  }\n  return path;\n}; "],"names":[],"mappings":"AAAA,oBAAoB;;;;;;AACb,MAAM,aAAa;IACxB,gEAAgE;IAChE,+EAA+E;IAC/E,uDAAuD;IACvD,UAAU,CAAC;QACT;;QAIA,sCAAsC;QACtC,OAAO,QAAQ,GAAG,CAAC,WAAW,IAAI;IACpC,CAAC;IAED,gBAAgB;IAChB,WAAW;QACT,MAAM;YACJ,QAAQ;YACR,SAAS;YACT,SAAS;YACT,UAAU;YACV,QAAQ;QACV;QACA,MAAM;QACN,SAAS;QACT,YAAY;QACZ,WAAW;QACX,WAAW;YACT,aAAa;YACb,cAAc;YACd,eAAe;YACf,qBAAqB;YACrB,mBAAmB;YACnB,yBAAyB;YACzB,mBAAmB;YACvB,gBAAgB;YAChB,cAAc;YACd,YAAY;YACZ,oBAAoB;YAClB,UAAU;YACR,wBAAwB;QAC1B;QACA,WAAW;YACT,gBAAgB;YAChB,kBAAkB;YAClB,sBAAsB;YACtB,qBAAqB;QACvB;QACA,YAAY;YACV,MAAM;gBACJ,YAAY;gBACZ,oBAAoB;gBACpB,iBAAiB;gBACjB,cAAc;YAChB;YACA,OAAO;gBACL,aAAa;gBACb,cAAc;gBACd,eAAe;YACjB;YACA,cAAc;gBACZ,aAAa;gBACb,eAAe;gBACf,mBAAmB;gBACnB,iBAAiB;YACnB;QACF;QACA,iBAAiB;QACjB,MAAM;QACN,OAAO;IACT;IAEA,wBAAwB;IACxB,gBAAgB;QACd,SAAS;YACP,gBAAgB;QAClB;QACA,SAAS;IACX;AACF;AAGO,MAAM,cAAc,CAAC;IAC1B,OAAO,GAAG,WAAW,QAAQ,GAAG,UAAU;AAC5C;AAGO,MAAM,iBAAiB,CAAC;IAC7B,MAAM,WAAW,WAAW,SAAS,CAAC,KAA0C;IAChF,IAAI,OAAO,aAAa,UAAU;QAChC,OAAO;IACT;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/app/api/bins/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { API_CONFIG } from '@/config/api';\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Get all query parameters from the request\n    const { searchParams } = new URL(request.url);\n    \n    // Build query string for the backend API\n    const queryParams = new URLSearchParams();\n    \n    // Add all query parameters to the backend request\n    searchParams.forEach((value, key) => {\n      queryParams.append(key, value);\n    });\n\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n    };\n    \n    // Add authorization header if present\n    const authHeader = request.headers.get('authorization');\n    if (authHeader) {\n      headers.Authorization = authHeader;\n      console.log('Forwarding authorization header to backend');\n    } else {\n      console.log('No authorization header found in request');\n    }\n\n    const backendUrl = process.env.BACKEND_URL || 'http://device.grhog.mn';\n    const url = `${backendUrl}${API_CONFIG.ENDPOINTS.BINS}${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n    const response = await fetch(url, {\n      method: 'GET',\n      headers,\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error('Backend error:', {\n        status: response.status,\n        statusText: response.statusText,\n        errorText: errorText\n      });\n      throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\n    }\n\n    const data = await response.json();\n    \n    return NextResponse.json(data);\n  } catch (error) {\n    console.error('Error fetching bins:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch bins' },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    \n    const backendUrl = process.env.BACKEND_URL || 'http://device.grhog.mn';\n    const response = await fetch(`${backendUrl}${API_CONFIG.ENDPOINTS.BINS}`, {\n      method: 'POST',\n      headers: {      \n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    \n    return NextResponse.json(data, { status: 201 });\n  } catch (error) {\n    console.error('Error creating bin:', error);\n    return NextResponse.json(\n      { error: 'Failed to create bin' },\n      { status: 500 }\n    );\n  }\n} "],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,4CAA4C;QAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAE5C,yCAAyC;QACzC,MAAM,cAAc,IAAI;QAExB,kDAAkD;QAClD,aAAa,OAAO,CAAC,CAAC,OAAO;YAC3B,YAAY,MAAM,CAAC,KAAK;QAC1B;QAEA,MAAM,UAAkC;YACtC,gBAAgB;QAClB;QAEA,sCAAsC;QACtC,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;QACvC,IAAI,YAAY;YACd,QAAQ,aAAa,GAAG;YACxB,QAAQ,GAAG,CAAC;QACd,OAAO;YACL,QAAQ,GAAG,CAAC;QACd;QAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,WAAW,IAAI;QAC9C,MAAM,MAAM,GAAG,aAAa,sHAAA,CAAA,aAAU,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY,QAAQ,KAAK,CAAC,CAAC,EAAE,YAAY,QAAQ,IAAI,GAAG,IAAI;QACpH,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,QAAQ;YACR;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,QAAQ,KAAK,CAAC,kBAAkB;gBAC9B,QAAQ,SAAS,MAAM;gBACvB,YAAY,SAAS,UAAU;gBAC/B,WAAW;YACb;YACA,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,CAAC,GAAG,EAAE,WAAW;QACzE;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,aAAa,QAAQ,GAAG,CAAC,WAAW,IAAI;QAC9C,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,sHAAA,CAAA,aAAU,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE;YACxE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAC1D;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ;QAAI;IAC/C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}