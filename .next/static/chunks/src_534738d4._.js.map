{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Calculate battery percentage from voltage string using Li-ion discharge curve\n * @param batteryLevel - Voltage string like \"10.95 V\"\n * @param initialCapacity - Initial battery capacity in volts (default: 12.6 for 3S Li-ion)\n * @returns Battery percentage (0-100)\n */\nexport function calculateBatteryPercentage(batteryLevel: string | null, initialCapacity: number = 12.6): number {\n  if (!batteryLevel) return 0;\n  \n  // Extract voltage value from \"10.95 V\" format\n  const voltageMatch = batteryLevel.match(/(\\d+\\.?\\d*)/);\n  if (!voltageMatch) return 0;\n  \n  const currentVoltage = parseFloat(voltageMatch[1]);\n  \n  // Li-ion 3S battery voltage-to-percentage lookup table\n  // Based on standard Li-ion discharge curve (12.6V nominal when fully charged)\n  const voltageTable = [\n    { voltage: 12.60, percentage: 100 },\n    { voltage: 12.40, percentage: 90 },\n    { voltage: 12.20, percentage: 80 },\n    { voltage: 12.00, percentage: 70 },\n    { voltage: 11.80, percentage: 60 },\n    { voltage: 11.60, percentage: 50 },\n    { voltage: 11.40, percentage: 40 },\n    { voltage: 11.20, percentage: 30 },\n    { voltage: 11.00, percentage: 20 },\n    { voltage: 10.80, percentage: 10 },\n    { voltage: 10.50, percentage: 5 },\n    { voltage: 9.00, percentage: 0 }   // Deep discharge protection\n  ];\n  \n  // Handle voltages above maximum\n  if (currentVoltage >= voltageTable[0].voltage) {\n    return 100;\n  }\n  \n  // Handle voltages below minimum (deep discharge)\n  if (currentVoltage <= voltageTable[voltageTable.length - 1].voltage) {\n    return 0;\n  }\n  \n  // Find the two closest voltage points for interpolation\n  for (let i = 0; i < voltageTable.length - 1; i++) {\n    const upper = voltageTable[i];\n    const lower = voltageTable[i + 1];\n    \n    if (currentVoltage <= upper.voltage && currentVoltage >= lower.voltage) {\n      // Linear interpolation between the two points\n      const voltageRange = upper.voltage - lower.voltage;\n      const percentageRange = upper.percentage - lower.percentage;\n      const voltageOffset = currentVoltage - lower.voltage;\n      \n      const interpolatedPercentage = lower.percentage + (voltageOffset / voltageRange) * percentageRange;\n      return Math.round(interpolatedPercentage * 10) / 10; // Round to 1 decimal place\n    }\n  }\n  \n  return 0;\n}\n\nexport function formatBytes(\n  bytes: number,\n  opts: {\n    decimals?: number;\n    sizeType?: 'accurate' | 'normal';\n  } = {}\n) {\n  const { decimals = 0, sizeType = 'normal' } = opts;\n\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  const accurateSizes = ['Bytes', 'KiB', 'MiB', 'GiB', 'TiB'];\n  if (bytes === 0) return '0 Byte';\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n  return `${(bytes / Math.pow(1024, i)).toFixed(decimals)} ${\n    sizeType === 'accurate'\n      ? (accurateSizes[i] ?? 'Bytest')\n      : (sizes[i] ?? 'Bytes')\n  }`;\n}\n\n/**\n * Normalizes storage level from the range 30-100 to 0-100\n * @param storageLevel - The original storage level (30-100)\n * @returns The normalized storage level (0-100)\n */\nexport function normalizeStorageLevel(storageLevel: number): number {\n  if (storageLevel === null || storageLevel === undefined || storageLevel === -1) {\n    return 0;\n  }\n  \n  // Map 30-100 to 0-100\n  // Formula: (value - min) / (max - min) * new_max\n  // (storageLevel - 30) / (100 - 30) * 100\n  const normalized = ((storageLevel - 30) / 70) * 100;\n  \n  // Clamp to 0-100 range\n  return Math.max(0, Math.min(100, normalized));\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-primary text-primary-foreground shadow-xs hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline'\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9'\n      }\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default'\n    }\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : 'button';\n\n  return (\n    <Comp\n      data-slot='button'\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/ui/label.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as LabelPrimitive from '@radix-ui/react-label';\n\nimport { cn } from '@/lib/utils';\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot='label'\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,KAGoC;QAHpC,EACb,SAAS,EACT,GAAG,OAC8C,GAHpC;IAIb,qBACE,6LAAC,oKAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/ui/form.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as LabelPrimitive from '@radix-ui/react-label';\nimport { Slot } from '@radix-ui/react-slot';\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  useFormState,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues\n} from 'react-hook-form';\n\nimport { cn } from '@/lib/utils';\nimport { Label } from '@/components/ui/label';\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState } = useFormContext();\n  const formState = useFormState({ name: fieldContext.name });\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error('useFormField should be used within <FormField>');\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n);\n\nfunction FormItem({ className, ...props }: React.ComponentProps<'div'>) {\n  const id = React.useId();\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div\n        data-slot='form-item'\n        className={cn('grid gap-2', className)}\n        {...props}\n      />\n    </FormItemContext.Provider>\n  );\n}\n\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField();\n\n  return (\n    <Label\n      data-slot='form-label'\n      data-error={!!error}\n      className={cn('data-[error=true]:text-destructive', className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  );\n}\n\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n  const { error, formItemId, formDescriptionId, formMessageId } =\n    useFormField();\n\n  return (\n    <Slot\n      data-slot='form-control'\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  );\n}\n\nfunction FormDescription({ className, ...props }: React.ComponentProps<'p'>) {\n  const { formDescriptionId } = useFormField();\n\n  return (\n    <p\n      data-slot='form-description'\n      id={formDescriptionId}\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  );\n}\n\nfunction FormMessage({ className, ...props }: React.ComponentProps<'p'>) {\n  const { error, formMessageId } = useFormField();\n  const body = error ? String(error?.message ?? '') : props.children;\n\n  if (!body) {\n    return null;\n  }\n\n  return (\n    <p\n      data-slot='form-message'\n      id={formMessageId}\n      className={cn('text-destructive text-sm', className)}\n      {...props}\n    >\n      {body}\n    </p>\n  );\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot='input'\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/components/icons.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  IconAlertTriangle,\n  IconArrowRight,\n  IconCheck,\n  IconChevronLeft,\n  IconChevronRight,\n  IconCommand,\n  IconCreditCard,\n  IconFile,\n  IconFileText,\n  IconHelpCircle,\n  IconPhoto,\n  IconDeviceLaptop,\n  IconLayoutDashboard,\n  IconLoader2,\n  IconLogin,\n  IconProps,\n  IconShoppingBag,\n  IconMoon,\n  IconDotsVertical,\n  IconPizza,\n  IconPlus,\n  IconSettings,\n  IconSun,\n  IconTrash,\n  IconBrandTwitter,\n  IconUser,\n  IconUserCircle,\n  IconUserEdit,\n  IconUserX,\n  IconX,\n  IconLayoutKanban,\n  IconBrandGithub,\n  IconUsers,\n  IconReceipt,\n  IconChartLine,\n  IconNfc,\n  IconEye,\n  IconEyeOff,\n  IconChartBar,\n  IconChartPie\n} from '@tabler/icons-react';\n\nexport type Icon = React.ComponentType<IconProps>;\n\nexport const Icons = {\n  dashboard: IconLayoutDashboard,\n  logo: IconCommand,\n  login: IconLogin,\n  close: IconX,\n  product: IconShoppingBag,\n  spinner: IconLoader2,\n  kanban: IconLayoutKanban,\n  chevronLeft: IconChevronLeft,\n  chevronRight: IconChevronRight,\n  trash: IconTrash,\n  employee: IconUserX,\n  post: IconFileText,\n  page: IconFile,\n  userPen: IconUserEdit,\n  user2: IconUserCircle,\n  media: IconPhoto,\n  settings: IconSettings,\n  billing: IconCreditCard,\n  ellipsis: IconDotsVertical,\n  add: IconPlus,\n  warning: IconAlertTriangle,\n  user: IconUser,\n  arrowRight: IconArrowRight,\n  help: IconHelpCircle,\n  pizza: IconPizza,\n  sun: IconSun,\n  moon: IconMoon,\n  laptop: IconDeviceLaptop,\n  github: IconBrandGithub,\n  twitter: IconBrandTwitter,\n  check: IconCheck,\n  users: IconUsers,\n  receipt: IconReceipt,\n  lineChart: IconChartLine,\n  card: IconCreditCard,\n  transaction: IconReceipt,\n  analytics: IconChartBar,\n  eye: IconEye,\n  eyeOff: IconEyeOff\n};\n"],"names":[],"mappings":";;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA6CO,MAAM,QAAQ;IACnB,WAAW,+OAAA,CAAA,sBAAmB;IAC9B,MAAM,+NAAA,CAAA,cAAW;IACjB,OAAO,2NAAA,CAAA,YAAS;IAChB,OAAO,mNAAA,CAAA,QAAK;IACZ,SAAS,uOAAA,CAAA,kBAAe;IACxB,SAAS,+NAAA,CAAA,cAAW;IACpB,QAAQ,yOAAA,CAAA,mBAAgB;IACxB,aAAa,uOAAA,CAAA,kBAAe;IAC5B,cAAc,yOAAA,CAAA,mBAAgB;IAC9B,OAAO,2NAAA,CAAA,YAAS;IAChB,UAAU,2NAAA,CAAA,YAAS;IACnB,MAAM,iOAAA,CAAA,eAAY;IAClB,MAAM,yNAAA,CAAA,WAAQ;IACd,SAAS,iOAAA,CAAA,eAAY;IACrB,OAAO,qOAAA,CAAA,iBAAc;IACrB,OAAO,2NAAA,CAAA,YAAS;IAChB,UAAU,iOAAA,CAAA,eAAY;IACtB,SAAS,qOAAA,CAAA,iBAAc;IACvB,UAAU,yOAAA,CAAA,mBAAgB;IAC1B,KAAK,yNAAA,CAAA,WAAQ;IACb,SAAS,2OAAA,CAAA,oBAAiB;IAC1B,MAAM,yNAAA,CAAA,WAAQ;IACd,YAAY,qOAAA,CAAA,iBAAc;IAC1B,MAAM,qOAAA,CAAA,iBAAc;IACpB,OAAO,2NAAA,CAAA,YAAS;IAChB,KAAK,uNAAA,CAAA,UAAO;IACZ,MAAM,yNAAA,CAAA,WAAQ;IACd,QAAQ,yOAAA,CAAA,mBAAgB;IACxB,QAAQ,uOAAA,CAAA,kBAAe;IACvB,SAAS,yOAAA,CAAA,mBAAgB;IACzB,OAAO,2NAAA,CAAA,YAAS;IAChB,OAAO,2NAAA,CAAA,YAAS;IAChB,SAAS,+NAAA,CAAA,cAAW;IACpB,WAAW,mOAAA,CAAA,gBAAa;IACxB,MAAM,qOAAA,CAAA,iBAAc;IACpB,aAAa,+NAAA,CAAA,cAAW;IACxB,WAAW,iOAAA,CAAA,eAAY;IACvB,KAAK,uNAAA,CAAA,UAAO;IACZ,QAAQ,6NAAA,CAAA,aAAU;AACpB","debugId":null}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/lib/auth.ts"],"sourcesContent":["// Authentication utilities\nconst TOKEN_KEY = 'grhog-auth-token';\nconst REFRESH_TOKEN_KEY = 'grhog-refresh-token';\nconst USER_CONFIG_KEY = 'grhog-user-config';\n\nexport interface LoginCredentials {\n  username: string;\n  password: string;\n}\n\nexport interface UserPermissions {\n  canGet: boolean;\n  canPost: boolean;\n  canPut: boolean;\n  canDelete: boolean;\n  canViewAllData: boolean;\n  canManageBins: boolean;\n  canManageClients: boolean;\n  canManageUsers: boolean;\n  canViewAnalytics: boolean;\n  canViewDashboard: boolean;\n  canViewTransactions: boolean;\n  canViewReports: boolean;\n}\n\nexport interface UserConfig {\n  showUserManagement: boolean;\n  showBinManagement: boolean;\n  showClientManagement: boolean;\n  showAnalytics: boolean;\n  showDashboard: boolean;\n  showTransactions: boolean;\n  showReports: boolean;\n  canCreateUsers: boolean;\n  canEditUsers: boolean;\n  canDeleteUsers: boolean;\n  canCreateBins: boolean;\n  canEditBins: boolean;\n  canDeleteBins: boolean;\n  canCreateClients: boolean;\n  canEditClients: boolean;\n  canDeleteClients: boolean;\n}\n\nexport interface AuthResponse {\n  token: string;\n  refreshToken?: string;\n  username: string;\n  email: string;\n  role: 'SUPER_ADMIN' | 'ADMIN' | 'VIEWER';\n  isActive?: boolean;\n  active?: boolean;\n  permissions: UserPermissions;\n  config: UserConfig;\n}\n\n// Helper function to check if we're on the client side\nconst isClient = typeof window !== 'undefined';\n\n// Token and user config management\nexport const authUtils = {\n  // Store authentication data in localStorage and set cookie for middleware\n  setAuthData: (authResponse: AuthResponse): void => {\n    if (isClient) {\n      localStorage.setItem(TOKEN_KEY, authResponse.token);\n      \n      // Store refresh token if provided\n      if (authResponse.refreshToken) {\n        localStorage.setItem(REFRESH_TOKEN_KEY, authResponse.refreshToken);\n      }\n      \n      localStorage.setItem(USER_CONFIG_KEY, JSON.stringify({\n        username: authResponse.username,\n        email: authResponse.email,\n        role: authResponse.role,\n        isActive: authResponse.isActive || authResponse.active || false,\n        permissions: authResponse.permissions,\n        config: authResponse.config\n      }));\n      \n      // Set cookie for middleware authentication check\n      document.cookie = `auth-token=authenticated; path=/; max-age=${60 * 60 * 24 * 7}`; // 7 days\n    }\n  },\n\n  // Store token in localStorage and set cookie for middleware\n  setToken: (token: string): void => {\n    if (isClient) {\n      localStorage.setItem(TOKEN_KEY, token);\n      // Set cookie for middleware authentication check\n      document.cookie = `auth-token=authenticated; path=/; max-age=${60 * 60 * 24 * 7}`; // 7 days\n    }\n  },\n\n  // Store refresh token\n  setRefreshToken: (refreshToken: string): void => {\n    if (isClient) {\n      localStorage.setItem(REFRESH_TOKEN_KEY, refreshToken);\n    }\n  },\n\n  // Get token from localStorage\n  getToken: (): string | null => {\n    if (isClient) {\n      return localStorage.getItem(TOKEN_KEY);\n    }\n    return null;\n  },\n\n  // Get refresh token from localStorage\n  getRefreshToken: (): string | null => {\n    if (isClient) {\n      return localStorage.getItem(REFRESH_TOKEN_KEY);\n    }\n    return null;\n  },\n\n  // Get user config from localStorage\n  getUserConfig: (): Omit<AuthResponse, 'token'> | null => {\n    if (isClient) {\n      const configStr = localStorage.getItem(USER_CONFIG_KEY);\n      return configStr ? JSON.parse(configStr) : null;\n    }\n    return null;\n  },\n\n  // Remove token and user config from localStorage and cookie\n  removeAuthData: (): void => {\n    if (isClient) {\n      localStorage.removeItem(TOKEN_KEY);\n      localStorage.removeItem(REFRESH_TOKEN_KEY);\n      localStorage.removeItem(USER_CONFIG_KEY);\n      // Remove cookie\n      document.cookie = 'auth-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';\n    }\n  },\n\n  // Remove token from localStorage and cookie\n  removeToken: (): void => {\n    if (isClient) {\n      localStorage.removeItem(TOKEN_KEY);\n      // Remove cookie\n      document.cookie = 'auth-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';\n    }\n  },\n\n  // Check if user is authenticated\n  isAuthenticated: (): boolean => {\n    if (!isClient) return false;\n    const token = authUtils.getToken();\n    return !!token;\n  },\n\n  // Check if token is expired (basic check)\n  isTokenExpired: (): boolean => {\n    if (!isClient) return true;\n    const token = authUtils.getToken();\n    if (!token) return true;\n    \n    try {\n      // Basic JWT expiration check (payload is base64 encoded)\n      const payload = token.split('.')[1];\n      if (!payload) return true;\n      \n      const decoded = JSON.parse(atob(payload));\n      const exp = decoded.exp * 1000; // Convert to milliseconds\n      \n      return Date.now() >= exp;\n    } catch {\n      return true;\n    }\n  },\n\n  // Get authorization header\n  getAuthHeader: (): Record<string, string> => {\n    const token = authUtils.getToken();\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  },\n\n  // Check if user has specific permission\n  hasPermission: (permission: keyof UserPermissions): boolean => {\n    if (!isClient) return false;\n    const userConfig = authUtils.getUserConfig();\n    return userConfig?.permissions?.[permission] || false;\n  },\n\n  // Check if user can perform specific action\n  canPerform: (action: keyof UserConfig): boolean => {\n    if (!isClient) return false;\n    const userConfig = authUtils.getUserConfig();\n    return userConfig?.config?.[action] || false;\n  },\n\n  // Get user role\n  getUserRole: (): string | null => {\n    if (!isClient) return null;\n    const userConfig = authUtils.getUserConfig();\n    return userConfig?.role || null;\n  },\n\n  // Check if user is super admin\n  isSuperAdmin: (): boolean => {\n    if (!isClient) return false;\n    return authUtils.getUserRole() === 'SUPER_ADMIN';\n  },\n\n  // Check if user is admin\n  isAdmin: (): boolean => {\n    if (!isClient) return false;\n    const role = authUtils.getUserRole();\n    return role === 'SUPER_ADMIN' || role === 'ADMIN';\n  },\n\n  // Check if user is viewer\n  isViewer: (): boolean => {\n    if (!isClient) return false;\n    return authUtils.getUserRole() === 'VIEWER';\n  },\n\n  // Check if user is active\n  isUserActive: (): boolean => {\n    if (!isClient) return false;\n    const userConfig = authUtils.getUserConfig();\n    return userConfig?.isActive || userConfig?.active || false;\n  },\n\n  // Get user info\n  getUserInfo: (): { username: string; email: string; role: string } | null => {\n    if (!isClient) return null;\n    const userConfig = authUtils.getUserConfig();\n    if (!userConfig) return null;\n    return {\n      username: userConfig.username,\n      email: userConfig.email,\n      role: userConfig.role\n    };\n  },\n\n  // Handle authentication errors globally\n  handleAuthError: (error: any): boolean => {\n    if (error.response?.status === 401 || error.status === 401 || \n        error.response?.status === 403 || error.status === 403) {\n      authUtils.removeAuthData();\n      // Redirect to login page\n      if (isClient && window.location.pathname !== '/auth/sign-in') {\n        window.location.href = '/auth/sign-in';\n      }\n      return true;\n    }\n    return false;\n  },\n\n  // Validate current authentication status\n  validateAuth: (): boolean => {\n    if (!isClient) return false;\n    \n    const token = authUtils.getToken();\n    if (!token) return false;\n    \n    // Check if token is expired\n    if (authUtils.isTokenExpired()) {\n      authUtils.removeAuthData();\n      return false;\n    }\n    \n    return true;\n  },\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/config/api.ts"],"sourcesContent":["// API Configuration\nexport const API_CONFIG = {\n  // Base URL for the backend API - point to actual backend server\n  // For client-side requests, always use Next.js API routes to avoid CORS issues\n  // For server-side requests, use the direct backend URL\n  BASE_URL: (() => {\n    if (typeof window !== 'undefined') {\n      // Client-side: use Next.js API routes\n      return '/api';\n    }\n    // Server-side: use direct backend URL\n    return process.env.BACKEND_URL || 'http://device.grhog.mn';\n  })(),\n  \n  // API endpoints\n  ENDPOINTS: {\n    AUTH: {\n      SIGNIN: '/auth/signin',\n      SIGNOUT: '/auth/signout',\n      REFRESH: '/auth/refresh',\n      VALIDATE: '/auth/validate',\n      STATUS: '/auth/status',\n    },\n    BINS: '/bins',\n    CLIENTS: '/clients',\n    BIN_USAGES: '/bin-usages',\n    CLEARINGS: '/clearings',\n    DASHBOARD: {\n      ACTIVE_BINS: '/dashboard/active-bins',\n      ACTIVE_CARDS: '/dashboard/active-cards',\n      CURRENT_USAGE: '/dashboard/current-usage',\n      AVERAGE_BIN_FILLING: '/dashboard/average-bin-filling',\n      COLLECTION_TRENDS: '/dashboard/collection-trends',\n      BIN_STATUS_DISTRIBUTION: '/dashboard/bin-status-distribution',\n      DAILY_USAGE_TREND: '/dashboard/daily-usage-trend',\n  LOCATION_STATS: '/dashboard/location-stats',\n  GET_DISTRICT: '/dashboard/getDistrict',\n  GET_KHOROO: '/dashboard/getKhoroo',\n  CLIENT_TYPE_COUNTS: '/dashboard/client-type-counts',\n    ALL_BINS: '/dashboard/all-bins',\n      CLIENT_ACTIVITY_CHANGE: '/dashboard/client-activity-change',\n    },\n    ANALYTICS: {\n      BIN_STATISTICS: '/analytics/bin-statistics',\n      USAGE_STATISTICS: '/analytics/usage-statistics',\n      PENETRATION_ANALYSIS: '/analytics/penetration-analysis',\n      CLEARING_EFFICIENCY: '/analytics/clearing-efficiency',\n    },\n    STATISTICS: {\n      BINS: {\n        TOTAL_BINS: '/bins/total-bins',\n        AVERAGE_FILL_LEVEL: '/bins/average-fill-level',\n        AVERAGE_BATTERY: '/bins/average-battery',\n        WARNING_BINS: '/bins/warning-bins',\n      },\n      CARDS: {\n        TOTAL_CARDS: '/cards/total-cards',\n        TOTAL_ACCESS: '/cards/total-access',\n        ACTIVITY_RATE: '/cards/activity-rate',\n      },\n      TRANSACTIONS: {\n        TODAY_USAGE: '/transactions/today-usage',\n        TODAY_AVERAGE: '/transactions/today-average',\n        ACTIVE_BINS_TODAY: '/transactions/active-bins-today',\n        OVERALL_AVERAGE: '/transactions/overall-average',\n      },\n    },\n    CLIENT_ACTIVITY: '/clients',\n    TEST: '/test',\n    USERS: '/users',\n  },\n  \n  // Request configuration\n  REQUEST_CONFIG: {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    timeout: 10000, // 10 seconds\n  },\n} as const;\n\n// Helper function to build full API URLs\nexport const buildApiUrl = (endpoint: string): string => {\n  return `${API_CONFIG.BASE_URL}${endpoint}`;\n};\n\n// Helper function to get API endpoint\nexport const getApiEndpoint = (path: string): string => {\n  const endpoint = API_CONFIG.ENDPOINTS[path as keyof typeof API_CONFIG.ENDPOINTS];\n  if (typeof endpoint === 'string') {\n    return endpoint;\n  }\n  return path;\n}; "],"names":[],"mappings":"AAAA,oBAAoB;;;;;;AACb,MAAM,aAAa;IACxB,gEAAgE;IAChE,+EAA+E;IAC/E,uDAAuD;IACvD,UAAU,CAAC;QACT,wCAAmC;YACjC,sCAAsC;YACtC,OAAO;QACT;;;IAGF,CAAC;IAED,gBAAgB;IAChB,WAAW;QACT,MAAM;YACJ,QAAQ;YACR,SAAS;YACT,SAAS;YACT,UAAU;YACV,QAAQ;QACV;QACA,MAAM;QACN,SAAS;QACT,YAAY;QACZ,WAAW;QACX,WAAW;YACT,aAAa;YACb,cAAc;YACd,eAAe;YACf,qBAAqB;YACrB,mBAAmB;YACnB,yBAAyB;YACzB,mBAAmB;YACvB,gBAAgB;YAChB,cAAc;YACd,YAAY;YACZ,oBAAoB;YAClB,UAAU;YACR,wBAAwB;QAC1B;QACA,WAAW;YACT,gBAAgB;YAChB,kBAAkB;YAClB,sBAAsB;YACtB,qBAAqB;QACvB;QACA,YAAY;YACV,MAAM;gBACJ,YAAY;gBACZ,oBAAoB;gBACpB,iBAAiB;gBACjB,cAAc;YAChB;YACA,OAAO;gBACL,aAAa;gBACb,cAAc;gBACd,eAAe;YACjB;YACA,cAAc;gBACZ,aAAa;gBACb,eAAe;gBACf,mBAAmB;gBACnB,iBAAiB;YACnB;QACF;QACA,iBAAiB;QACjB,MAAM;QACN,OAAO;IACT;IAEA,wBAAwB;IACxB,gBAAgB;QACd,SAAS;YACP,gBAAgB;QAClB;QACA,SAAS;IACX;AACF;AAGO,MAAM,cAAc,CAAC;IAC1B,OAAO,AAAC,GAAwB,OAAtB,WAAW,QAAQ,EAAY,OAAT;AAClC;AAGO,MAAM,iBAAiB,CAAC;IAC7B,MAAM,WAAW,WAAW,SAAS,CAAC,KAA0C;IAChF,IAAI,OAAO,aAAa,UAAU;QAChC,OAAO;IACT;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 896, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/lib/api-client.ts"],"sourcesContent":["import { authUtils } from './auth';\nimport { API_CONFIG } from '@/config/api';\n\n// Enhanced API client with automatic token refresh\nclass ApiClient {\n  private isRefreshing = false;\n  private failedQueue: Array<{\n    resolve: (value: any) => void;\n    reject: (error: any) => void;\n  }> = [];\n\n  private processQueue(error: any, token: string | null = null) {\n    this.failedQueue.forEach(({ resolve, reject }) => {\n      if (error) {\n        reject(error);\n      } else {\n        resolve(token);\n      }\n    });\n    this.failedQueue = [];\n  }\n\n  private async refreshToken(): Promise<string | null> {\n    try {\n      const refreshToken = localStorage.getItem('grhog-refresh-token');\n      if (!refreshToken) {\n        throw new Error('No refresh token available');\n      }\n\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/refresh`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ refreshToken }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Token refresh failed');\n      }\n\n      const data = await response.json();\n      \n      // Store new tokens\n      authUtils.setToken(data.accessToken);\n      localStorage.setItem('grhog-refresh-token', data.refreshToken);\n      \n      return data.accessToken;\n    } catch (error) {\n      console.error('Token refresh failed:', error);\n      // Clear all auth data on refresh failure\n      authUtils.removeAuthData();\n      localStorage.removeItem('grhog-refresh-token');\n      \n      // Redirect to login\n      if (typeof window !== 'undefined') {\n        window.location.href = '/auth/sign-in';\n      }\n      \n      return null;\n    }\n  }\n\n  async request<T>(\n    url: string,\n    options: RequestInit = {},\n    requireAuth = true,\n    retryCount = 0\n  ): Promise<T> {\n    try {\n      let headers: Record<string, string> = {\n        'Content-Type': 'application/json',\n      };\n\n      // Merge with existing headers\n      if (options.headers) {\n        if (Array.isArray(options.headers)) {\n          options.headers.forEach(([key, value]) => {\n            headers[key] = value;\n          });\n        } else if (typeof options.headers === 'object') {\n          Object.assign(headers, options.headers);\n        }\n      }\n\n      if (requireAuth) {\n        const token = authUtils.getToken();\n        if (token) {\n          headers.Authorization = `Bearer ${token}`;\n        }\n      }\n\n      const response = await fetch(url, {\n        ...options,\n        headers,\n      });\n\n      // Handle authentication errors\n      if (response.status === 401 || response.status === 403) {\n        if (requireAuth && retryCount === 0) {\n          // Try to refresh token\n          if (!this.isRefreshing) {\n            this.isRefreshing = true;\n            \n            try {\n              const newToken = await this.refreshToken();\n              this.isRefreshing = false;\n              \n              if (newToken) {\n                this.processQueue(null, newToken);\n                // Retry the request with new token\n                return this.request(url, options, requireAuth, retryCount + 1);\n              } else {\n                this.processQueue(new Error('Token refresh failed'));\n                throw new Error('Authentication failed');\n              }\n            } catch (error) {\n              this.isRefreshing = false;\n              this.processQueue(error);\n              throw error;\n            }\n          } else {\n            // Queue the request if refresh is in progress\n            return new Promise((resolve, reject) => {\n              this.failedQueue.push({ resolve, reject });\n            }).then(() => {\n              return this.request(url, options, requireAuth, retryCount + 1);\n            });\n          }\n        } else {\n          // Clear auth data and redirect to login\n          authUtils.removeAuthData();\n          localStorage.removeItem('grhog-refresh-token');\n          \n          if (typeof window !== 'undefined') {\n            window.location.href = '/auth/sign-in';\n          }\n          \n          throw new Error('Authentication required');\n        }\n      }\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorData;\n        try {\n          errorData = JSON.parse(errorText);\n        } catch {\n          errorData = { error: errorText };\n        }\n        \n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n      }\n\n      return response.json();\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Helper methods for common HTTP operations\n  async get<T>(url: string, requireAuth = true): Promise<T> {\n    return this.request<T>(url, { method: 'GET' }, requireAuth);\n  }\n\n  async post<T>(url: string, data?: any, requireAuth = true): Promise<T> {\n    return this.request<T>(url, {\n      method: 'POST',\n      body: data ? JSON.stringify(data) : undefined,\n    }, requireAuth);\n  }\n\n  async put<T>(url: string, data?: any, requireAuth = true): Promise<T> {\n    return this.request<T>(url, {\n      method: 'PUT',\n      body: data ? JSON.stringify(data) : undefined,\n    }, requireAuth);\n  }\n\n  async delete<T>(url: string, requireAuth = true): Promise<T> {\n    return this.request<T>(url, { method: 'DELETE' }, requireAuth);\n  }\n}\n\n// Export singleton instance\nexport const apiClient = new ApiClient();\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEA,mDAAmD;AACnD,MAAM;IAOI,aAAa,KAAU,EAA+B;YAA7B,QAAA,iEAAuB;QACtD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;gBAAC,EAAE,OAAO,EAAE,MAAM,EAAE;YAC3C,IAAI,OAAO;gBACT,OAAO;YACT,OAAO;gBACL,QAAQ;YACV;QACF;QACA,IAAI,CAAC,WAAW,GAAG,EAAE;IACvB;IAEA,MAAc,eAAuC;QACnD,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,WAAW,MAAM,MAAM,AAAC,GAAsB,OAApB,uHAAA,CAAA,aAAU,CAAC,QAAQ,EAAC,kBAAgB;gBAClE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAa;YACtC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,mBAAmB;YACnB,qHAAA,CAAA,YAAS,CAAC,QAAQ,CAAC,KAAK,WAAW;YACnC,aAAa,OAAO,CAAC,uBAAuB,KAAK,YAAY;YAE7D,OAAO,KAAK,WAAW;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,yCAAyC;YACzC,qHAAA,CAAA,YAAS,CAAC,cAAc;YACxB,aAAa,UAAU,CAAC;YAExB,oBAAoB;YACpB,wCAAmC;gBACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;YAEA,OAAO;QACT;IACF;IAEA,MAAM,QACJ,GAAW,EAIC;YAHZ,UAAA,iEAAuB,CAAC,GACxB,cAAA,iEAAc,MACd,aAAA,iEAAa;QAEb,IAAI;YACF,IAAI,UAAkC;gBACpC,gBAAgB;YAClB;YAEA,8BAA8B;YAC9B,IAAI,QAAQ,OAAO,EAAE;gBACnB,IAAI,MAAM,OAAO,CAAC,QAAQ,OAAO,GAAG;oBAClC,QAAQ,OAAO,CAAC,OAAO,CAAC;4BAAC,CAAC,KAAK,MAAM;wBACnC,OAAO,CAAC,IAAI,GAAG;oBACjB;gBACF,OAAO,IAAI,OAAO,QAAQ,OAAO,KAAK,UAAU;oBAC9C,OAAO,MAAM,CAAC,SAAS,QAAQ,OAAO;gBACxC;YACF;YAEA,IAAI,aAAa;gBACf,MAAM,QAAQ,qHAAA,CAAA,YAAS,CAAC,QAAQ;gBAChC,IAAI,OAAO;oBACT,QAAQ,aAAa,GAAG,AAAC,UAAe,OAAN;gBACpC;YACF;YAEA,MAAM,WAAW,MAAM,MAAM,KAAK;gBAChC,GAAG,OAAO;gBACV;YACF;YAEA,+BAA+B;YAC/B,IAAI,SAAS,MAAM,KAAK,OAAO,SAAS,MAAM,KAAK,KAAK;gBACtD,IAAI,eAAe,eAAe,GAAG;oBACnC,uBAAuB;oBACvB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;wBACtB,IAAI,CAAC,YAAY,GAAG;wBAEpB,IAAI;4BACF,MAAM,WAAW,MAAM,IAAI,CAAC,YAAY;4BACxC,IAAI,CAAC,YAAY,GAAG;4BAEpB,IAAI,UAAU;gCACZ,IAAI,CAAC,YAAY,CAAC,MAAM;gCACxB,mCAAmC;gCACnC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,SAAS,aAAa,aAAa;4BAC9D,OAAO;gCACL,IAAI,CAAC,YAAY,CAAC,IAAI,MAAM;gCAC5B,MAAM,IAAI,MAAM;4BAClB;wBACF,EAAE,OAAO,OAAO;4BACd,IAAI,CAAC,YAAY,GAAG;4BACpB,IAAI,CAAC,YAAY,CAAC;4BAClB,MAAM;wBACR;oBACF,OAAO;wBACL,8CAA8C;wBAC9C,OAAO,IAAI,QAAQ,CAAC,SAAS;4BAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;gCAAE;gCAAS;4BAAO;wBAC1C,GAAG,IAAI,CAAC;4BACN,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,SAAS,aAAa,aAAa;wBAC9D;oBACF;gBACF,OAAO;oBACL,wCAAwC;oBACxC,qHAAA,CAAA,YAAS,CAAC,cAAc;oBACxB,aAAa,UAAU,CAAC;oBAExB,wCAAmC;wBACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;oBACzB;oBAEA,MAAM,IAAI,MAAM;gBAClB;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,IAAI;gBACJ,IAAI;oBACF,YAAY,KAAK,KAAK,CAAC;gBACzB,EAAE,UAAM;oBACN,YAAY;wBAAE,OAAO;oBAAU;gBACjC;gBAEA,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI,AAAC,uBAAsC,OAAhB,SAAS,MAAM;YAC3E;YAEA,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM;QACR;IACF;IAEA,4CAA4C;IAC5C,MAAM,IAAO,GAAW,EAAkC;YAAhC,cAAA,iEAAc;QACtC,OAAO,IAAI,CAAC,OAAO,CAAI,KAAK;YAAE,QAAQ;QAAM,GAAG;IACjD;IAEA,MAAM,KAAQ,GAAW,EAAE,IAAU,EAAkC;YAAhC,cAAA,iEAAc;QACnD,OAAO,IAAI,CAAC,OAAO,CAAI,KAAK;YAC1B,QAAQ;YACR,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACtC,GAAG;IACL;IAEA,MAAM,IAAO,GAAW,EAAE,IAAU,EAAkC;YAAhC,cAAA,iEAAc;QAClD,OAAO,IAAI,CAAC,OAAO,CAAI,KAAK;YAC1B,QAAQ;YACR,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACtC,GAAG;IACL;IAEA,MAAM,OAAU,GAAW,EAAkC;YAAhC,cAAA,iEAAc;QACzC,OAAO,IAAI,CAAC,OAAO,CAAI,KAAK;YAAE,QAAQ;QAAS,GAAG;IACpD;;QAjLA,+KAAQ,gBAAe;QACvB,+KAAQ,eAGH,EAAE;;AA8KT;AAGO,MAAM,YAAY,IAAI","debugId":null}},
    {"offset": {"line": 1084, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/lib/api.ts"],"sourcesContent":["import {\n  DashboardActiveBins,\n  DashboardActiveCards,\n  DashboardCurrentUsage,\n  DashboardAverageFilling,\n  CollectionTrends,\n  BinStatusDistributionData,\n  DailyUsageTrendData,\n  LocationStatsData,\n  Bin,\n  Client,\n  BinUsage,\n  BinClearing,\n  BinStatistics,\n  UsageStatistics,\n  PenetrationAnalysis,\n  ClearingEfficiency,\n  ClientActivity,\n  LoginCredentials,\n  AuthResponse,\n  User\n} from '@/types';\nimport { authUtils } from './auth';\nimport { API_CONFIG } from '@/config/api';\nimport { apiClient } from './api-client';\n\n// Helper function to build full API URLs\nexport const buildApiUrl = (endpoint: string): string => {\n  return `${API_CONFIG.BASE_URL}${endpoint}`;\n};\n\n// API endpoint URLs - these now point to the backend API\nexport const API_ENDPOINTS = {\n  BINS: buildApiUrl(API_CONFIG.ENDPOINTS.BINS),\n  CLIENTS: buildApiUrl(API_CONFIG.ENDPOINTS.CLIENTS),\n  BIN_USAGES: buildApiUrl(API_CONFIG.ENDPOINTS.BIN_USAGES),\n  CLEARINGS: buildApiUrl(API_CONFIG.ENDPOINTS.CLEARINGS),\n  // Authentication endpoints\n  AUTH_SIGNIN: buildApiUrl(API_CONFIG.ENDPOINTS.AUTH.SIGNIN),\n  AUTH_SIGNOUT: buildApiUrl(API_CONFIG.ENDPOINTS.AUTH.SIGNOUT),\n  AUTH_REFRESH: buildApiUrl(API_CONFIG.ENDPOINTS.AUTH.REFRESH),\n  AUTH_VALIDATE: buildApiUrl(API_CONFIG.ENDPOINTS.AUTH.VALIDATE),\n  AUTH_STATUS: buildApiUrl(API_CONFIG.ENDPOINTS.AUTH.STATUS),\n  // Dashboard endpoints\n  DASHBOARD_ACTIVE_BINS: buildApiUrl(\n    API_CONFIG.ENDPOINTS.DASHBOARD.ACTIVE_BINS\n  ),\n  DASHBOARD_ACTIVE_CARDS: buildApiUrl(\n    API_CONFIG.ENDPOINTS.DASHBOARD.ACTIVE_CARDS\n  ),\n  DASHBOARD_CURRENT_USAGE: buildApiUrl(\n    API_CONFIG.ENDPOINTS.DASHBOARD.CURRENT_USAGE\n  ),\n  DASHBOARD_TOTAL_HOUSEHOLDS: buildApiUrl(\n    API_CONFIG.ENDPOINTS.DASHBOARD.TOTAL_HOUSEHOLDS\n  ),\n  DASHBOARD_AVERAGE_FILLING: buildApiUrl(\n    API_CONFIG.ENDPOINTS.DASHBOARD.AVERAGE_BIN_FILLING\n  ),\n  // Analytics endpoints\n  ANALYTICS_BIN_STATISTICS: buildApiUrl(\n    API_CONFIG.ENDPOINTS.ANALYTICS.BIN_STATISTICS\n  ),\n  ANALYTICS_USAGE_STATISTICS: buildApiUrl(\n    API_CONFIG.ENDPOINTS.ANALYTICS.USAGE_STATISTICS\n  ),\n  ANALYTICS_PENETRATION_ANALYSIS: buildApiUrl(\n    API_CONFIG.ENDPOINTS.ANALYTICS.PENETRATION_ANALYSIS\n  ),\n  ANALYTICS_CLEARING_EFFICIENCY: buildApiUrl(\n    API_CONFIG.ENDPOINTS.ANALYTICS.CLEARING_EFFICIENCY\n  ),\n  // Client activity endpoints\n  CLIENT_ACTIVITY: buildApiUrl(API_CONFIG.ENDPOINTS.CLIENT_ACTIVITY),\n  // User management endpoints\n  USERS: buildApiUrl(API_CONFIG.ENDPOINTS.USERS),\n  // Test endpoint\n  TEST: buildApiUrl(API_CONFIG.ENDPOINTS.TEST)\n} as const;\n\n// Authentication functions\nexport async function signIn(\n  credentials: LoginCredentials\n): Promise<AuthResponse> {\n  const response = await apiClient.post<AuthResponse>(\n    API_ENDPOINTS.AUTH_SIGNIN,\n    credentials,\n    false\n  );\n\n  // Store auth data after successful login\n  authUtils.setAuthData(response);\n\n  return response;\n}\n\nexport async function signOut(): Promise<{ message: string }> {\n  try {\n    await apiClient.post<{ message: string }>(\n      API_ENDPOINTS.AUTH_SIGNOUT,\n      {},\n      true\n    );\n  } catch (error) {\n    // sign out error suppressed\n  } finally {\n    // Always clear local auth data\n    authUtils.removeAuthData();\n  }\n\n  return { message: 'Logged out successfully' };\n}\n\nexport async function refreshToken(\n  refreshToken: string\n): Promise<{ accessToken: string; refreshToken: string }> {\n  return apiClient.post<{ accessToken: string; refreshToken: string }>(\n    API_ENDPOINTS.AUTH_REFRESH,\n    { refreshToken },\n    false\n  );\n}\n\nexport async function validateToken(token: string): Promise<any> {\n  return apiClient.post(API_ENDPOINTS.AUTH_VALIDATE, { token }, false);\n}\n\nexport async function getAuthStatus(): Promise<any> {\n  return apiClient.get(API_ENDPOINTS.AUTH_STATUS, true);\n}\n\n// Bin functions\nexport async function getBins(): Promise<Bin[]> {\n  return apiClient.get<Bin[]>(API_ENDPOINTS.BINS);\n}\n\nexport async function getBin(id: number): Promise<Bin> {\n  return apiClient.get<Bin>(`${API_ENDPOINTS.BINS}/${id}`);\n}\n\nexport async function createBin(bin: Partial<Bin>): Promise<Bin> {\n  return apiClient.post<Bin>(API_ENDPOINTS.BINS, bin);\n}\n\nexport async function updateBin(id: number, bin: Partial<Bin>): Promise<Bin> {\n  return apiClient.put<Bin>(`${API_ENDPOINTS.BINS}/${id}`, bin);\n}\n\nexport async function deleteBin(id: number): Promise<{ message: string }> {\n  return apiClient.delete<{ message: string }>(`${API_ENDPOINTS.BINS}/${id}`);\n}\n\n// Client functions\nexport async function getClients(): Promise<Client[]> {\n  return apiClient.get<Client[]>(API_ENDPOINTS.CLIENTS);\n}\n\nexport async function getClient(id: number): Promise<Client> {\n  return apiClient.get<Client>(`${API_ENDPOINTS.CLIENTS}/${id}`);\n}\n\n// Bin usage functions\nexport async function getBinUsages(): Promise<BinUsage[]> {\n  return apiClient.get<BinUsage[]>(API_ENDPOINTS.BIN_USAGES);\n}\n\n// Clearing functions\nexport async function getClearings(): Promise<BinClearing[]> {\n  return apiClient.get<BinClearing[]>(API_ENDPOINTS.CLEARINGS);\n}\n\n// User management functions\nexport async function getUsers(): Promise<User[]> {\n  return apiClient.get<User[]>(API_ENDPOINTS.USERS);\n}\n\nexport async function getUser(id: number): Promise<User> {\n  return apiClient.get<User>(`${API_ENDPOINTS.USERS}/${id}`);\n}\n\nexport async function createUser(user: Partial<User>): Promise<User> {\n  return apiClient.post<User>(API_ENDPOINTS.USERS, user);\n}\n\nexport async function updateUser(\n  id: number,\n  user: Partial<User>\n): Promise<User> {\n  return apiClient.put<User>(`${API_ENDPOINTS.USERS}/${id}`, user);\n}\n\nexport async function deleteUser(id: number): Promise<{ message: string }> {\n  return apiClient.delete<{ message: string }>(`${API_ENDPOINTS.USERS}/${id}`);\n}\n\n// Analytics functions\nexport async function getBinStatistics(): Promise<BinStatistics> {\n  return apiClient.get<BinStatistics>(API_ENDPOINTS.ANALYTICS_BIN_STATISTICS);\n}\n\nexport async function getUsageStatistics(): Promise<UsageStatistics> {\n  return apiClient.get<UsageStatistics>(\n    API_ENDPOINTS.ANALYTICS_USAGE_STATISTICS\n  );\n}\n\nexport async function getPenetrationAnalysis(): Promise<PenetrationAnalysis> {\n  return apiClient.get<PenetrationAnalysis>(\n    API_ENDPOINTS.ANALYTICS_PENETRATION_ANALYSIS\n  );\n}\n\nexport async function getClearingEfficiency(): Promise<ClearingEfficiency> {\n  return apiClient.get<ClearingEfficiency>(\n    API_ENDPOINTS.ANALYTICS_CLEARING_EFFICIENCY\n  );\n}\n\n// Client activity functions\nexport async function getClientActivity(\n  cardId: string\n): Promise<ClientActivity> {\n  return apiClient.get<ClientActivity>(\n    `${API_ENDPOINTS.CLIENT_ACTIVITY}/${cardId}/activity`\n  );\n}\n\n// Dashboard functions\nexport const getDashboardActiveBins =\n  async (): Promise<DashboardActiveBins> => {\n    return apiClient.get<DashboardActiveBins>(\n      API_ENDPOINTS.DASHBOARD_ACTIVE_BINS\n    );\n  };\n\nexport const getDashboardActiveCards =\n  async (): Promise<DashboardActiveCards> => {\n    return apiClient.get<DashboardActiveCards>(\n      API_ENDPOINTS.DASHBOARD_ACTIVE_CARDS\n    );\n  };\n\nexport const getDashboardCurrentUsage =\n  async (): Promise<DashboardCurrentUsage> => {\n    return apiClient.get<DashboardCurrentUsage>(\n      API_ENDPOINTS.DASHBOARD_CURRENT_USAGE\n    );\n  };\n\nexport const getDashboardAverageFilling =\n  async (): Promise<DashboardAverageFilling> => {\n    return apiClient.get<DashboardAverageFilling>(\n      API_ENDPOINTS.DASHBOARD_AVERAGE_FILLING\n    );\n  };\n\nexport const getCollectionTrends = async (): Promise<CollectionTrends> => {\n  return apiClient.get<CollectionTrends>(\n    buildApiUrl(API_CONFIG.ENDPOINTS.DASHBOARD.COLLECTION_TRENDS)\n  );\n};\n\nexport const getBinStatusDistribution =\n  async (): Promise<BinStatusDistributionData> => {\n    return apiClient.get<BinStatusDistributionData>(\n      buildApiUrl(API_CONFIG.ENDPOINTS.DASHBOARD.BIN_STATUS_DISTRIBUTION)\n    );\n  };\n\nexport const getDailyUsageTrend = async (): Promise<DailyUsageTrendData> => {\n  return apiClient.get<DailyUsageTrendData>(\n    buildApiUrl(API_CONFIG.ENDPOINTS.DASHBOARD.DAILY_USAGE_TREND)\n  );\n};\n\nexport const getLocationStats = async (): Promise<LocationStatsData> => {\n  return apiClient.get<LocationStatsData>(\n    buildApiUrl(API_CONFIG.ENDPOINTS.DASHBOARD.LOCATION_STATS)\n  );\n};\n\n// Fetch khoroo list for a district\nexport const getKhorooList = async (district?: string): Promise<number[]> => {\n  const params = new URLSearchParams();\n  if (district) params.set('district', district);\n  return apiClient.get<number[]>(\n    buildApiUrl(\n      `${API_CONFIG.ENDPOINTS.DASHBOARD.GET_KHOROO}?${params.toString()}`\n    )\n  );\n};\n\n// Fetch client type counts filtered by district and optional khoroo\nexport const getClientTypeCounts = async (\n  district?: string,\n  khoroo?: number\n): Promise<Array<{ type: string; count: number }>> => {\n  const params = new URLSearchParams();\n  if (district) params.set('district', district);\n  if (khoroo != null) params.set('khoroo', String(khoroo));\n  return apiClient.get<Array<{ type: string; count: number }>>(\n    buildApiUrl(\n      `${API_CONFIG.ENDPOINTS.DASHBOARD.CLIENT_TYPE_COUNTS}?${params.toString()}`\n    )\n  );\n};\n\n// Fetch all bins (used for map pins)\nexport const getAllBins = async (): Promise<Bin[]> => {\n  return apiClient.get<Bin[]>(\n    buildApiUrl(API_CONFIG.ENDPOINTS.DASHBOARD.ALL_BINS)\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1297, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/hooks/use-auth.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { signIn, signOut } from '@/lib/api';\nimport { authUtils, LoginCredentials, AuthResponse } from '@/lib/auth';\n\nexport function useAuth() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [user, setUser] = useState<AuthResponse | null>(null);\n\n  // Check authentication status on mount\n  useEffect(() => {\n    const checkAuth = () => {\n      const authenticated = authUtils.isAuthenticated();\n      const userConfig = authUtils.getUserConfig();\n      \n      setIsAuthenticated(authenticated);\n      if (userConfig && authenticated) {\n        setUser({\n          token: authUtils.getToken() || '',\n          username: userConfig.username,\n          email: userConfig.email,\n          role: userConfig.role,\n          isActive: userConfig.isActive || userConfig.active || false,\n          permissions: userConfig.permissions,\n          config: userConfig.config\n        });\n      } else {\n        setUser(null);\n      }\n      setIsLoading(false);\n    };\n\n    checkAuth();\n  }, []);\n\n  // Login function\n  const login = async (credentials: LoginCredentials): Promise<boolean> => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const response = await signIn(credentials);\n      \n      if (response.token) {\n        // Store auth data in localStorage\n        authUtils.setAuthData(response);\n        \n        setIsAuthenticated(true);\n        setUser({\n          ...response,\n          isActive: response.isActive || response.active || false\n        });\n        return true;\n      } else {\n        throw new Error('No token received');\n      }\n    } catch (err) {\n      let errorMessage = 'Login failed';\n      \n      if (err instanceof Error) {\n        errorMessage = err.message;\n      }\n      \n      // Handle axios errors with response data\n      if (err && typeof err === 'object' && 'response' in err) {\n        const axiosError = err as any;\n        if (axiosError.response?.data?.error) {\n          errorMessage = axiosError.response.data.error;\n        } else if (axiosError.response?.status === 406) {\n          errorMessage = 'Invalid credentials. Please check your username and password.';\n        } else if (axiosError.response?.status === 503) {\n          errorMessage = 'Backend server is not available. Please try again later.';\n        }\n      }\n      \n      setError(errorMessage);\n      setIsAuthenticated(false);\n      setUser(null);\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      await signOut();\n    } catch (error) {\n      // Ignore logout errors\n    } finally {\n      authUtils.removeAuthData();\n      setIsAuthenticated(false);\n      setUser(null);\n      setError(null);\n    }\n  };\n\n  // Check if user has specific permission\n  const hasPermission = (permission: keyof AuthResponse['permissions']): boolean => {\n    return user?.permissions?.[permission] || false;\n  };\n\n  // Check if user can perform specific action\n  const canPerform = (action: keyof AuthResponse['config']): boolean => {\n    return user?.config?.[action] || false;\n  };\n\n  // Get user role\n  const getUserRole = (): string | null => {\n    return user?.role || null;\n  };\n\n  // Check if user is super admin\n  const isSuperAdmin = (): boolean => {\n    return getUserRole() === 'SUPER_ADMIN';\n  };\n\n  // Check if user is admin\n  const isAdmin = (): boolean => {\n    const role = getUserRole();\n    return role === 'SUPER_ADMIN' || role === 'ADMIN';\n  };\n\n  // Check if user is viewer\n  const isViewer = (): boolean => {\n    return getUserRole() === 'VIEWER';\n  };\n\n  return {\n    isAuthenticated,\n    isLoading,\n    error,\n    user,\n    login,\n    logout,\n    hasPermission,\n    canPerform,\n    getUserRole,\n    isSuperAdmin,\n    isAdmin,\n    isViewer,\n  };\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1449, "column": 0}, "map": {"version":3,"sources":["file:///home/ab/dev/grhog/GRHOG/src/features/auth/components/user-auth-form.tsx"],"sourcesContent":["'use client';\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Icons } from '@/components/icons';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { toast } from 'sonner';\nimport { useAuth } from '@/hooks/use-auth';\nimport * as z from 'zod';\n\nconst formSchema = z.object({\n  username: z.string().min(1, { message: '   ' }),\n  password: z.string().min(1, { message: '   ' })\n});\n\ntype UserFormValue = z.infer<typeof formSchema>;\n\ninterface UserAuthFormProps {\n  type: 'signin' | 'signup';\n}\n\nexport default function UserAuthForm({ type }: UserAuthFormProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { login, isLoading: authLoading } = useAuth();\n  const [showPassword, setShowPassword] = useState(false);\n  \n  const defaultValues = {\n    username: '',\n    password: ''\n  };\n  \n  const form = useForm<UserFormValue>({\n    resolver: zodResolver(formSchema),\n    defaultValues\n  });\n\n  const onSubmit = async (data: UserFormValue) => {\n    try {\n      if (type === 'signup') {\n        toast.error('   .   .');\n        return;\n      }\n\n      const success = await login(data);\n      \n      if (success) {\n        toast.success(' !');\n        \n        // Redirect to the original requested page or dashboard\n        const redirectUrl = searchParams.get('redirect') || '/dashboard/overview';\n        router.push(redirectUrl);\n      } else {\n        toast.error('      ');\n      }\n    } catch (error) {\n      console.error('Auth error:', error);\n      toast.error('   .   .');\n    }\n  };\n\n  // For signup type, show a message that only admin login is available\n  if (type === 'signup') {\n    return (\n      <div className=\"text-center space-y-4\">\n        <div className=\"p-4 border rounded-lg bg-muted\">\n          <h3 className=\"font-medium mb-2\">   </h3>\n          <p className=\"text-sm text-muted-foreground mb-4\">\n                 .\n          </p>\n          <Button \n            onClick={() => router.push('/auth/sign-in')}\n            variant=\"outline\"\n            className=\"w-full\"\n          >\n               \n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <Form {...form}>\n        <form\n          onSubmit={form.handleSubmit(onSubmit)}\n          className='w-full space-y-4'\n        >\n          <FormField\n            control={form.control}\n            name='username'\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel> </FormLabel>\n                <FormControl>\n                  <Input\n                    placeholder='   '\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          <FormField\n            control={form.control}\n            name='password'\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel> </FormLabel>\n                <FormControl>\n                  <div className='relative'>\n                    <Input\n                      type={showPassword ? 'text' : 'password'}\n                      placeholder='   '\n                      {...field}\n                    />\n                    <Button\n                      type='button'\n                      variant='ghost'\n                      size='sm'\n                      className='absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent'\n                      onClick={() => setShowPassword(!showPassword)}\n                    >\n                      {showPassword ? (\n                        <Icons.eye className='h-4 w-4' aria-hidden='true' />\n                      ) : (\n                        <Icons.eyeOff className='h-4 w-4' aria-hidden='true' />\n                      )}\n                      <span className='sr-only'>\n                        {showPassword ? 'Hide password' : 'Show password'}\n                      </span>\n                    </Button>\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          <Button type='submit' className='w-full' disabled={authLoading}>\n            {authLoading && (\n              <Icons.spinner className='mr-2 h-4 w-4 animate-spin' />\n            )}\n            \n          </Button>\n        </form>\n      </Form>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}